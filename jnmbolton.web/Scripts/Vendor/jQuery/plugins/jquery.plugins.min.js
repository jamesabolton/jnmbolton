jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(n,t,i,r,u){return jQuery.easing[jQuery.easing.def](n,t,i,r,u)},easeInQuad:function(n,t,i,r,u){return r*(t/=u)*t+i},easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i},easeInOutQuad:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},easeInCubic:function(n,t,i,r,u){return r*(t/=u)*t*t+i},easeOutCubic:function(n,t,i,r,u){return r*((t=t/u-1)*t*t+1)+i},easeInOutCubic:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInQuart:function(n,t,i,r,u){return r*(t/=u)*t*t*t+i},easeOutQuart:function(n,t,i,r,u){return-r*((t=t/u-1)*t*t*t-1)+i},easeInOutQuart:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t+i:-r/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(n,t,i,r,u){return r*(t/=u)*t*t*t*t+i},easeOutQuint:function(n,t,i,r,u){return r*((t=t/u-1)*t*t*t*t+1)+i},easeInOutQuint:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t*t+i:r/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(n,t,i,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+i},easeOutSine:function(n,t,i,r,u){return r*Math.sin(t/u*(Math.PI/2))+i},easeInOutSine:function(n,t,i,r,u){return-r/2*(Math.cos(Math.PI*t/u)-1)+i},easeInExpo:function(n,t,i,r,u){return t==0?i:r*Math.pow(2,10*(t/u-1))+i},easeOutExpo:function(n,t,i,r,u){return t==u?i+r:r*(-Math.pow(2,-10*t/u)+1)+i},easeInOutExpo:function(n,t,i,r,u){return t==0?i:t==u?i+r:(t/=u/2)<1?r/2*Math.pow(2,10*(t-1))+i:r/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(n,t,i,r,u){return-r*(Math.sqrt(1-(t/=u)*t)-1)+i},easeOutCirc:function(n,t,i,r,u){return r*Math.sqrt(1-(t=t/u-1)*t)+i},easeInOutCirc:function(n,t,i,r,u){return(t/=u/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(n,t,i,r,u){var f=1.70158,e=0,o=r;return t==0?i:(t/=u)==1?i+r:(e||(e=u*.3),o<Math.abs(r)?(o=r,f=e/4):f=e/(2*Math.PI)*Math.asin(r/o),-(o*Math.pow(2,10*(t-=1))*Math.sin((t*u-f)*2*Math.PI/e))+i)},easeOutElastic:function(n,t,i,r,u){var f=1.70158,e=0,o=r;return t==0?i:(t/=u)==1?i+r:(e||(e=u*.3),o<Math.abs(r)?(o=r,f=e/4):f=e/(2*Math.PI)*Math.asin(r/o),o*Math.pow(2,-10*t)*Math.sin((t*u-f)*2*Math.PI/e)+r+i)},easeInOutElastic:function(n,t,i,r,u){var f=1.70158,e=0,o=r;return t==0?i:(t/=u/2)==2?i+r:(e||(e=u*.3*1.5),o<Math.abs(r)?(o=r,f=e/4):f=e/(2*Math.PI)*Math.asin(r/o),t<1)?-.5*o*Math.pow(2,10*(t-=1))*Math.sin((t*u-f)*2*Math.PI/e)+i:o*Math.pow(2,-10*(t-=1))*Math.sin((t*u-f)*2*Math.PI/e)*.5+r+i},easeInBack:function(n,t,i,r,u,f){return f==undefined&&(f=1.70158),r*(t/=u)*t*((f+1)*t-f)+i},easeOutBack:function(n,t,i,r,u,f){return f==undefined&&(f=1.70158),r*((t=t/u-1)*t*((f+1)*t+f)+1)+i},easeInOutBack:function(n,t,i,r,u,f){return(f==undefined&&(f=1.70158),(t/=u/2)<1)?r/2*t*t*(((f*=1.525)+1)*t-f)+i:r/2*((t-=2)*t*(((f*=1.525)+1)*t+f)+2)+i},easeInBounce:function(n,t,i,r,u){return r-jQuery.easing.easeOutBounce(n,u-t,0,r,u)+i},easeOutBounce:function(n,t,i,r,u){return(t/=u)<1/2.75?r*7.5625*t*t+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(n,t,i,r,u){return t<u/2?jQuery.easing.easeInBounce(n,t*2,0,r,u)*.5+i:jQuery.easing.easeOutBounce(n,t*2-u,0,r,u)*.5+r*.5+i}}),function(n){n.fn.relatedTweets=function(t){var i={debug:0,query:"",default_query:"",realtime:1,status:0,lang:"en",n:10,max_tags:5,or_tags:1,show_avatar:1,show_author:1,show_date:1,show_source:1,image_width:48,from_users:"",to_users:"",at_users:"",links_only:0,geocode:"",stay_time:5e3,enter_time:300,exit_time:200,animate:"opacity"};return t=n.extend({},i,t),this.each(function(){var div=n(this),count=0,ul=null,max_id=0,visibleI=-1,calls=0,removeExtra=!1,effectParams={},op=t;if(div.attr("options")){try{op=eval("("+div.attr("options")+")")}catch(e){op.debug&&div.html('<b style="color:red">'+e+"<\/b>");return}op=n.extend({},i,op)}var searchLoaded=function(t){var i,u,r;if(!t.results||!t.max_id){op.debug&&div.html('<b style="color:red">Error:'+(t.error?t.error:"unkown")+"<\/b>");return}if(i=t.results,t.max_id>0&&(max_id=t.max_id),calls==0){if(i.length==0)return;count=i.length,u=n('<div class="rrt-inner"><\/div>').appendTo(div.html("")),ul=n("<ul><\/ul>").appendTo(u)}for(calls++,r=i.length-1;r>=0;r--)appendLI(i[r],i.length-1-r);calls>1&&i.length&&(removeExtra=!0),calls==1&&fadeOut()},appendLI=function(t){n('<li style="display:none;">'+(op.show_avatar?'<span class="rrt-author-img"><a href="http://twitter.com/'+t.from_user+'" title="'+t.from_user+'"><img src="'+t.profile_image_url+'" height="'+op.image_width+'" width="'+op.image_width+'" border="0"/><\/a><\/span>':"")+'<span class="rrt-body">'+(op.show_author?'<strong><a href="http://twitter.com/'+t.from_user+'" title="'+t.from_user+'">'+t.from_user+"<\/a><\/strong>":"")+'<span class="rrt-content">'+linkify(t.text)+'<\/span><span class="rrt-meta">'+(op.show_date?'<a class="rrt-date" href="http://twitter.com/'+t.from_user+"/status/"+t.id_str+'">'+formatDate(t.created_at)+"<\/a>":"")+(op.show_source?'<span class="rrt-source"> from '+decodeHTML(t.source)+"<\/span>":"")+"<\/span><\/span><\/li>").appendTo(ul)},fadeOut=function(){visibleI>-1?n("li",ul).eq(visibleI).fadeOut(op.exit_time,fadeIn):fadeIn()},fadeIn=function(){removeExtra&&removeExtraLI(),visibleI++,visibleI>=count&&(visibleI=0),effectParams[op.animate]="show",n("li",ul).eq(visibleI).animate(effectParams,op.enter_time,"linear",fadeStill),visibleI+1>=count&&op.realtime&&search()},fadeStill=function(){n("li",ul).eq(visibleI).animate({opacity:1},op.stay_time,"linear",fadeOut)},removeExtraLI=function(){var t=n("li",ul).size();t>op.n?(n("li:lt("+(t-op.n)+")",ul).remove(),count=op.n):count=t,removeExtra=!1},linkify=function(n){return n.replace(/\bhttps?\:\/\/\S+/gi,function(n){var t="";return n=n.replace(/(\.*|\?*|\!*)$/,function(n,i){return t=i,""}),'<a class="rrt-link" href="'+n+'">'+(n.length>25?n.substr(0,24)+"...":n)+"<\/a>"+t}).replace(/\B\@([A-Z0-9_]{1,15})/gi,'@<a class="rrt-at" href="http://twitter.com/$1">$1<\/a>').replace(/\B\#([A-Z0-9_]+)/gi,'<a class="rrt-hashtag" href="http://search.twitter.com/search?q=%23$1">#$1<\/a>')},decodeHTML=function(n){return n.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&quot;/gi,'"')},formatDate=function(n){var t=new Date,i=new Date,r,u,f;t.setTime(Date.parse(n));var h=i.getDate(),c=i.getMonth()+1,l=i.getFullYear(),a=i.getHours(),v=i.getMinutes(),y=i.getSeconds(),e=t.getDate(),o=t.getMonth()+1,s=t.getFullYear(),p=t.getHours(),w=t.getMinutes(),b=t.getSeconds();return s==l&&o==c&&e==h?(r=a-p,r>0)?r+" hour"+(r>1?"s":"")+" ago":(u=v-w,u>0)?u+" minute"+(u>1?"s":"")+" ago":(f=y-b,f+" second"+(f>1?"s":"")+" ago"):o+"/"+e+"/"+s},search=function(){var t={lang:op.lang,q:op.query,rpp:op.n,since_id:max_id};op.geocode&&(t.geocode=op.geocode),n.ajax({url:"http://search.twitter.com/search.json",data:t,success:searchLoaded,dataType:"jsonp"})},init=function(){var t=[];op.query||op.status||n('a[rel="tag"]:lt('+op.max_tags+")").each(function(){var i=n.trim(n(this).text().replace(/\n/g,""));n.inArray(i,t)==-1&&(t[t.length]=i)}),t.length>0&&(op.query=t.join(op.or_tags?" OR ":" ")),op.query||(op.query=op.default_query),op.from_users&&(op.query+=" from:"+op.from_users.replace(/\s/g,"").replace(/,/g," OR from:")),op.to_users&&(op.query+=" to:"+op.to_users.replace(/\s/g,"").replace(/,/g," OR to:")),op.at_users&&(op.query+=" @"+op.at_users.replace(/\s/g,"").replace(/,/g," OR @")),op.links_only&&(op.query+=" filter:links"),search()};init()})}}(jQuery),jQuery(document).ready(function(){jQuery("div.related-tweets").relatedTweets()}),function(n){var i={init:function(t){var i={set_width:!1,set_height:!1,horizontalScroll:!1,scrollInertia:950,mouseWheel:!0,mouseWheelPixels:"auto",autoDraggerLength:!0,autoHideScrollbar:!1,snapAmount:null,snapOffset:0,scrollButtons:{enable:!1,scrollType:"continuous",scrollSpeed:"auto",scrollAmount:40},advanced:{updateOnBrowserResize:!0,updateOnContentResize:!1,autoExpandHorizontalScroll:!1,autoScrollOnFocus:!0,normalizeMouseWheelDelta:!1},contentTouchScroll:!0,callbacks:{onScrollStart:function(){},onScroll:function(){},onTotalScroll:function(){},onTotalScrollBack:function(){},onTotalScrollOffset:0,onTotalScrollBackOffset:0,whileScrolling:function(){}},theme:"light"},t=n.extend(!0,i,t);return this.each(function(){var i=n(this),y,r,h,u,f,o,l,a,v,w,s;t.set_width&&i.css("width",t.set_width),t.set_height&&i.css("height",t.set_height),n(document).data("mCustomScrollbar-index")?(y=parseInt(n(document).data("mCustomScrollbar-index")),n(document).data("mCustomScrollbar-index",y+1)):n(document).data("mCustomScrollbar-index","1"),i.wrapInner("<div class='mCustomScrollBox mCS-"+t.theme+"' id='mCSB_"+n(document).data("mCustomScrollbar-index")+"' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_"+n(document).data("mCustomScrollbar-index")),r=i.children(".mCustomScrollBox"),t.horizontalScroll?(r.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />"),h=r.children(".mCSB_h_wrapper"),h.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({width:h.children().outerWidth(),position:"relative"}).unwrap()):r.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />"),u=r.children(".mCSB_container"),n.support.touch&&u.addClass("mCS_touch"),u.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer'><div class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' style='position:relative;'><\/div><\/div><div class='mCSB_draggerRail'><\/div><\/div><\/div>");var c=r.children(".mCSB_scrollTools"),p=c.children(".mCSB_draggerContainer"),e=p.children(".mCSB_dragger");t.horizontalScroll?e.data("minDraggerWidth",e.width()):e.data("minDraggerHeight",e.height()),t.scrollButtons.enable&&(t.horizontalScroll?c.prepend("<a class='mCSB_buttonLeft' oncontextmenu='return false;'><\/a>").append("<a class='mCSB_buttonRight' oncontextmenu='return false;'><\/a>"):c.prepend("<a class='mCSB_buttonUp' oncontextmenu='return false;'><\/a>").append("<a class='mCSB_buttonDown' oncontextmenu='return false;'><\/a>")),r.bind("scroll",function(){i.is(".mCS_disabled")||r.scrollTop(0).scrollLeft(0)}),i.data({mCS_Init:!0,mCustomScrollbarIndex:n(document).data("mCustomScrollbar-index"),horizontalScroll:t.horizontalScroll,scrollInertia:t.scrollInertia,scrollEasing:"mcsEaseOut",mouseWheel:t.mouseWheel,mouseWheelPixels:t.mouseWheelPixels,autoDraggerLength:t.autoDraggerLength,autoHideScrollbar:t.autoHideScrollbar,snapAmount:t.snapAmount,snapOffset:t.snapOffset,scrollButtons_enable:t.scrollButtons.enable,scrollButtons_scrollType:t.scrollButtons.scrollType,scrollButtons_scrollSpeed:t.scrollButtons.scrollSpeed,scrollButtons_scrollAmount:t.scrollButtons.scrollAmount,autoExpandHorizontalScroll:t.advanced.autoExpandHorizontalScroll,autoScrollOnFocus:t.advanced.autoScrollOnFocus,normalizeMouseWheelDelta:t.advanced.normalizeMouseWheelDelta,contentTouchScroll:t.contentTouchScroll,onScrollStart_Callback:t.callbacks.onScrollStart,onScroll_Callback:t.callbacks.onScroll,onTotalScroll_Callback:t.callbacks.onTotalScroll,onTotalScrollBack_Callback:t.callbacks.onTotalScrollBack,onTotalScroll_Offset:t.callbacks.onTotalScrollOffset,onTotalScrollBack_Offset:t.callbacks.onTotalScrollBackOffset,whileScrolling_Callback:t.callbacks.whileScrolling,bindEvent_scrollbar_drag:!1,bindEvent_content_touch:!1,bindEvent_scrollbar_click:!1,bindEvent_mousewheel:!1,bindEvent_buttonsContinuous_y:!1,bindEvent_buttonsContinuous_x:!1,bindEvent_buttonsPixels_y:!1,bindEvent_buttonsPixels_x:!1,bindEvent_focusin:!1,bindEvent_autoHideScrollbar:!1,mCSB_buttonScrollRight:!1,mCSB_buttonScrollLeft:!1,mCSB_buttonScrollDown:!1,mCSB_buttonScrollUp:!1}),t.horizontalScroll?i.css("max-width")!=="none"&&(t.advanced.updateOnContentResize||(t.advanced.updateOnContentResize=!0)):i.css("max-height")!=="none"&&(f=!1,o=parseInt(i.css("max-height")),i.css("max-height").indexOf("%")>=0&&(f=o,o=i.parent().height()*f/100),i.css("overflow","hidden"),r.css("max-height",o)),i.mCustomScrollbar("update"),t.advanced.updateOnBrowserResize&&(a=n(window).width(),v=n(window).height(),n(window).bind("resize."+i.data("mCustomScrollbarIndex"),function(){l&&clearTimeout(l),l=setTimeout(function(){if(!i.is(".mCS_disabled")&&!i.is(".mCS_destroyed")){var t=n(window).width(),u=n(window).height();(a!==t||v!==u)&&(i.css("max-height")!=="none"&&f&&r.css("max-height",i.parent().height()*f/100),i.mCustomScrollbar("update"),a=t,v=u)}},150)})),t.advanced.updateOnContentResize&&(s=t.horizontalScroll?u.outerWidth():u.outerHeight(),w=setInterval(function(){var n;t.horizontalScroll?(t.advanced.autoExpandHorizontalScroll&&u.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:u.outerWidth(),position:"relative"}).unwrap(),n=u.outerWidth()):n=u.outerHeight(),n!=s&&(i.mCustomScrollbar("update"),s=n)},300))})},update:function(){var i=n(this),u=i.children(".mCustomScrollBox"),r=u.children(".mCSB_container"),l,o,a,b,it,rt,c,v,k,ut,ft,s,h;r.removeClass("mCS_no_scrollbar"),i.removeClass("mCS_disabled mCS_destroyed"),u.scrollTop(0).scrollLeft(0);var f=u.children(".mCSB_scrollTools"),e=f.children(".mCSB_draggerContainer"),t=e.children(".mCSB_dragger");if(i.data("horizontalScroll")){var d=f.children(".mCSB_buttonLeft"),g=f.children(".mCSB_buttonRight"),y=u.width();i.data("autoExpandHorizontalScroll")&&r.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:r.outerWidth(),position:"relative"}).unwrap(),l=r.outerWidth()}else var nt=f.children(".mCSB_buttonUp"),tt=f.children(".mCSB_buttonDown"),p=u.height(),w=r.outerHeight();w>p&&!i.data("horizontalScroll")?(f.css("display","block"),o=e.height(),i.data("autoDraggerLength")&&(a=Math.round(p/w*o),b=t.data("minDraggerHeight"),a<=b?t.css({height:b}):a>=o-10?(it=o-10,t.css({height:it})):t.css({height:a}),t.children(".mCSB_dragger_bar").css({"line-height":t.height()+"px"})),rt=t.height(),s=(w-p)/(o-rt),i.data("scrollAmount",s).mCustomScrollbar("scrolling",u,r,e,t,nt,tt,d,g),h=Math.abs(r.position().top),i.mCustomScrollbar("scrollTo",h,{scrollInertia:0,trigger:"internal"})):l>y&&i.data("horizontalScroll")?(f.css("display","block"),c=e.width(),i.data("autoDraggerLength")&&(v=Math.round(y/l*c),k=t.data("minDraggerWidth"),v<=k?t.css({width:k}):v>=c-10?(ut=c-10,t.css({width:ut})):t.css({width:v})),ft=t.width(),s=(l-y)/(c-ft),i.data("scrollAmount",s).mCustomScrollbar("scrolling",u,r,e,t,nt,tt,d,g),h=Math.abs(r.position().left),i.mCustomScrollbar("scrollTo",h,{scrollInertia:0,trigger:"internal"})):(u.unbind("mousewheel focusin"),i.data("horizontalScroll")?t.add(r).css("left",0):t.add(r).css("top",0),f.css("display","none"),r.addClass("mCS_no_scrollbar"),i.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1}))},scrolling:function(i,r,u,f,e,o,s,h){function tt(n,t,i,r){c.data("horizontalScroll")?c.mCustomScrollbar("scrollTo",f.position().left-t+r,{moveDragger:!0,trigger:"internal"}):c.mCustomScrollbar("scrollTo",f.position().top-n+i,{moveDragger:!0,trigger:"internal"})}var c=n(this),v,y,l,p,a,w,b,it,rt,d,g,ut,ft;if(c.data("bindEvent_scrollbar_drag")||(n.support.msPointer?(f.bind("MSPointerDown",function(t){t.preventDefault(),c.data({on_drag:!0}),f.addClass("mCSB_dragger_onDrag");var i=n(this),e=i.offset(),r=t.originalEvent.pageX-e.left,u=t.originalEvent.pageY-e.top;r<i.width()&&r>0&&u<i.height()&&u>0&&(v=u,y=r)}),n(document).bind("MSPointerMove."+c.data("mCustomScrollbarIndex"),function(n){if(n.preventDefault(),c.data("on_drag")){var i=f,t=i.offset(),r=n.originalEvent.pageX-t.left,u=n.originalEvent.pageY-t.top;tt(v,y,u,r)}}).bind("MSPointerUp."+c.data("mCustomScrollbarIndex"),function(){c.data({on_drag:!1}),f.removeClass("mCSB_dragger_onDrag")})):(f.bind("mousedown touchstart",function(t){var e,i,r,u,o;t.preventDefault(),t.stopImmediatePropagation(),e=n(this),i=e.offset(),t.type==="touchstart"?(o=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=o.pageX-i.left,u=o.pageY-i.top):(c.data({on_drag:!0}),f.addClass("mCSB_dragger_onDrag"),r=t.pageX-i.left,u=t.pageY-i.top),r<e.width()&&r>0&&u<e.height()&&u>0&&(v=u,y=r)}).bind("touchmove",function(t){t.preventDefault(),t.stopImmediatePropagation();var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],u=n(this),r=u.offset(),f=i.pageX-r.left,e=i.pageY-r.top;tt(v,y,e,f)}),n(document).bind("mousemove."+c.data("mCustomScrollbarIndex"),function(n){if(c.data("on_drag")){var i=f,t=i.offset(),r=n.pageX-t.left,u=n.pageY-t.top;tt(v,y,u,r)}}).bind("mouseup."+c.data("mCustomScrollbarIndex"),function(){c.data({on_drag:!1}),f.removeClass("mCSB_dragger_onDrag")})),c.data({bindEvent_scrollbar_drag:!0})),n.support.touch&&c.data("contentTouchScroll")&&(c.data("bindEvent_content_touch")||(r.bind("touchstart",function(t){t.stopImmediatePropagation(),l=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],p=n(this),a=p.offset(),b=l.pageX-a.left,w=l.pageY-a.top,it=w,rt=b}),r.bind("touchmove",function(t){t.preventDefault(),t.stopImmediatePropagation(),l=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],p=n(this).parent(),a=p.offset(),b=l.pageX-a.left,w=l.pageY-a.top,c.data("horizontalScroll")?c.mCustomScrollbar("scrollTo",rt-b,{trigger:"internal"}):c.mCustomScrollbar("scrollTo",it-w,{trigger:"internal"})}))),c.data("bindEvent_scrollbar_click")||(u.bind("click",function(t){var i=(t.pageY-u.offset().top)*c.data("scrollAmount"),r=n(t.target);c.data("horizontalScroll")&&(i=(t.pageX-u.offset().left)*c.data("scrollAmount")),(r.hasClass("mCSB_draggerContainer")||r.hasClass("mCSB_draggerRail"))&&c.mCustomScrollbar("scrollTo",i,{trigger:"internal",scrollEasing:"draggerRailEase"})}),c.data({bindEvent_scrollbar_click:!0})),c.data("mouseWheel")&&(c.data("bindEvent_mousewheel")||(i.bind("mousewheel",function(n,t){var o,i=c.data("mouseWheelPixels"),s=Math.abs(r.position().top),e=f.position().top,h=u.height()-f.height();c.data("normalizeMouseWheelDelta")&&(t=t<0?-1:1),i==="auto"&&(i=100+Math.round(c.data("scrollAmount")/2)),c.data("horizontalScroll")&&(e=f.position().left,h=u.width()-f.width(),s=Math.abs(r.position().left)),(t>0&&e!==0||t<0&&e!==h)&&(n.preventDefault(),n.stopImmediatePropagation()),o=s-t*i,c.mCustomScrollbar("scrollTo",o,{trigger:"internal"})}),c.data({bindEvent_mousewheel:!0}))),c.data("scrollButtons_enable"))if(c.data("scrollButtons_scrollType")==="pixels"){c.data("horizontalScroll")?(h.add(s).unbind("mousedown touchstart MSPointerDown mouseup MSPointerUp mouseout MSPointerOut touchend",d,g),c.data({bindEvent_buttonsContinuous_x:!1}),c.data("bindEvent_buttonsPixels_x")||(h.bind("click",function(n){n.preventDefault(),k(Math.abs(r.position().left)+c.data("scrollButtons_scrollAmount"))}),s.bind("click",function(n){n.preventDefault(),k(Math.abs(r.position().left)-c.data("scrollButtons_scrollAmount"))}),c.data({bindEvent_buttonsPixels_x:!0}))):(o.add(e).unbind("mousedown touchstart MSPointerDown mouseup MSPointerUp mouseout MSPointerOut touchend",d,g),c.data({bindEvent_buttonsContinuous_y:!1}),c.data("bindEvent_buttonsPixels_y")||(o.bind("click",function(n){n.preventDefault(),k(Math.abs(r.position().top)+c.data("scrollButtons_scrollAmount"))}),e.bind("click",function(n){n.preventDefault(),k(Math.abs(r.position().top)-c.data("scrollButtons_scrollAmount"))}),c.data({bindEvent_buttonsPixels_y:!0})));function k(n){f.data("preventAction")||(f.data("preventAction",!0),c.mCustomScrollbar("scrollTo",n,{trigger:"internal"}))}}else{c.data("horizontalScroll")?(h.add(s).unbind("click"),c.data({bindEvent_buttonsPixels_x:!1}),c.data("bindEvent_buttonsContinuous_x")||(h.bind("mousedown touchstart MSPointerDown",function(n){n.preventDefault();var t=nt();c.data({mCSB_buttonScrollRight:setInterval(function(){c.mCustomScrollbar("scrollTo",Math.abs(r.position().left)+t,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})}),d=function(n){n.preventDefault(),clearInterval(c.data("mCSB_buttonScrollRight"))},h.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",d),s.bind("mousedown touchstart MSPointerDown",function(n){n.preventDefault();var t=nt();c.data({mCSB_buttonScrollLeft:setInterval(function(){c.mCustomScrollbar("scrollTo",Math.abs(r.position().left)-t,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})}),g=function(n){n.preventDefault(),clearInterval(c.data("mCSB_buttonScrollLeft"))},s.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",g),c.data({bindEvent_buttonsContinuous_x:!0}))):(o.add(e).unbind("click"),c.data({bindEvent_buttonsPixels_y:!1}),c.data("bindEvent_buttonsContinuous_y")||(o.bind("mousedown touchstart MSPointerDown",function(n){n.preventDefault();var t=nt();c.data({mCSB_buttonScrollDown:setInterval(function(){c.mCustomScrollbar("scrollTo",Math.abs(r.position().top)+t,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})}),ut=function(n){n.preventDefault(),clearInterval(c.data("mCSB_buttonScrollDown"))},o.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",ut),e.bind("mousedown touchstart MSPointerDown",function(n){n.preventDefault();var t=nt();c.data({mCSB_buttonScrollUp:setInterval(function(){c.mCustomScrollbar("scrollTo",Math.abs(r.position().top)-t,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})}),ft=function(n){n.preventDefault(),clearInterval(c.data("mCSB_buttonScrollUp"))},e.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",ft),c.data({bindEvent_buttonsContinuous_y:!0})));function nt(){var n=c.data("scrollButtons_scrollSpeed");return c.data("scrollButtons_scrollSpeed")==="auto"&&(n=Math.round((c.data("scrollInertia")+100)/40)),n}}c.data("autoScrollOnFocus")&&(c.data("bindEvent_focusin")||(i.bind("focusin",function(){var t;if(i.scrollTop(0).scrollLeft(0),t=n(document.activeElement),t.is("input,textarea,select,button,a[tabindex],area,object")){var f=r.position().top,u=t.position().top,e=i.height()-t.outerHeight();c.data("horizontalScroll")&&(f=r.position().left,u=t.position().left,e=i.width()-t.outerWidth()),(f+u<0||f+u>e)&&c.mCustomScrollbar("scrollTo",u,{trigger:"internal"})}}),c.data({bindEvent_focusin:!0}))),c.data("autoHideScrollbar")&&(c.data("bindEvent_autoHideScrollbar")||(i.bind("mouseenter",function(){i.addClass("mCS-mouse-over"),t.showScrollbar.call(i.children(".mCSB_scrollTools"))}).bind("mouseleave touchend",function(n){i.removeClass("mCS-mouse-over"),n.type==="mouseleave"&&t.hideScrollbar.call(i.children(".mCSB_scrollTools"))}),c.data({bindEvent_autoHideScrollbar:!0})))},scrollTo:function(i,r){function h(n){this.mcs={top:f.position().top,left:f.position().left,draggerTop:s.position().top,draggerLeft:s.position().left,topPct:Math.round(100*Math.abs(f.position().top)/Math.abs(f.outerHeight()-o.height())),leftPct:Math.round(100*Math.abs(f.position().left)/Math.abs(f.outerWidth()-o.width()))};switch(n){case"onScrollStart":u.data("mCS_tweenRunning",!0).data("onScrollStart_Callback").call(u,this.mcs);break;case"whileScrolling":u.data("whileScrolling_Callback").call(u,this.mcs);break;case"onScroll":u.data("onScroll_Callback").call(u,this.mcs);break;case"onTotalScrollBack":u.data("onTotalScrollBack_Callback").call(u,this.mcs);break;case"onTotalScroll":u.data("onTotalScroll_Callback").call(u,this.mcs)}}var u=n(this),d={moveDragger:!1,trigger:"external",callbacks:!0,scrollInertia:u.data("scrollInertia"),scrollEasing:u.data("scrollEasing")},r=n.extend(d,r),e,o=u.children(".mCustomScrollBox"),f=o.children(".mCSB_container"),v=o.children(".mCSB_scrollTools"),y=v.children(".mCSB_draggerContainer"),s=y.children(".mCSB_dragger"),k=draggerSpeed=r.scrollInertia,w,l,b,a,p,c;f.hasClass("mCS_no_scrollbar")||(u.data({mCS_trigger:r.trigger}),u.data("mCS_Init")&&(r.callbacks=!1),(i||i===0)&&(typeof i=="number"?r.moveDragger?(e=i,i=u.data("horizontalScroll")?s.position().left*u.data("scrollAmount"):s.position().top*u.data("scrollAmount"),draggerSpeed=0):e=i/u.data("scrollAmount"):typeof i=="string"&&(p=i==="top"?0:i!=="bottom"||u.data("horizontalScroll")?i==="left"?0:i==="right"&&u.data("horizontalScroll")?f.outerWidth()-o.width():i==="first"?u.find(".mCSB_container").find(":first"):i==="last"?u.find(".mCSB_container").find(":last"):u.find(i):f.outerHeight()-o.height(),p.length===1?(i=u.data("horizontalScroll")?p.position().left:p.position().top,e=i/u.data("scrollAmount")):e=i=p),u.data("horizontalScroll")?(u.data("onTotalScrollBack_Offset")&&(l=-u.data("onTotalScrollBack_Offset")),u.data("onTotalScroll_Offset")&&(a=o.width()-f.outerWidth()+u.data("onTotalScroll_Offset")),e<0?(e=i=0,clearInterval(u.data("mCSB_buttonScrollLeft")),l||(w=!0)):e>=y.width()-s.width()?(e=y.width()-s.width(),i=o.width()-f.outerWidth(),clearInterval(u.data("mCSB_buttonScrollRight")),a||(b=!0)):i=-i,c=u.data("snapAmount"),c&&(i=Math.round(i/c)*c-u.data("snapOffset")),t.mTweenAxis.call(this,s[0],"left",Math.round(e),draggerSpeed,r.scrollEasing),t.mTweenAxis.call(this,f[0],"left",Math.round(i),k,r.scrollEasing,{onStart:function(){r.callbacks&&!u.data("mCS_tweenRunning")&&h("onScrollStart"),u.data("autoHideScrollbar")&&t.showScrollbar.call(v)},onUpdate:function(){r.callbacks&&h("whileScrolling")},onComplete:function(){r.callbacks&&(h("onScroll"),(w||l&&f.position().left>=l)&&h("onTotalScrollBack"),(b||a&&f.position().left<=a)&&h("onTotalScroll")),s.data("preventAction",!1),u.data("mCS_tweenRunning",!1),u.data("autoHideScrollbar")&&(o.hasClass("mCS-mouse-over")||t.hideScrollbar.call(v))}})):(u.data("onTotalScrollBack_Offset")&&(l=-u.data("onTotalScrollBack_Offset")),u.data("onTotalScroll_Offset")&&(a=o.height()-f.outerHeight()+u.data("onTotalScroll_Offset")),e<0?(e=i=0,clearInterval(u.data("mCSB_buttonScrollUp")),l||(w=!0)):e>=y.height()-s.height()?(e=y.height()-s.height(),i=o.height()-f.outerHeight(),clearInterval(u.data("mCSB_buttonScrollDown")),a||(b=!0)):i=-i,c=u.data("snapAmount"),c&&(i=Math.round(i/c)*c-u.data("snapOffset")),t.mTweenAxis.call(this,s[0],"top",Math.round(e),draggerSpeed,r.scrollEasing),t.mTweenAxis.call(this,f[0],"top",Math.round(i),k,r.scrollEasing,{onStart:function(){r.callbacks&&!u.data("mCS_tweenRunning")&&h("onScrollStart"),u.data("autoHideScrollbar")&&t.showScrollbar.call(v)},onUpdate:function(){r.callbacks&&h("whileScrolling")},onComplete:function(){r.callbacks&&(h("onScroll"),(w||l&&f.position().top>=l)&&h("onTotalScrollBack"),(b||a&&f.position().top<=a)&&h("onTotalScroll")),s.data("preventAction",!1),u.data("mCS_tweenRunning",!1),u.data("autoHideScrollbar")&&(o.hasClass("mCS-mouse-over")||t.hideScrollbar.call(v))}})),u.data("mCS_Init")&&u.data({mCS_Init:!1})))},stop:function(){var i=n(this),r=i.children().children(".mCSB_container"),u=i.children().children().children().children(".mCSB_dragger");t.mTweenAxisStop.call(this,r[0]),t.mTweenAxisStop.call(this,u[0])},disable:function(t){var r=n(this),u=r.children(".mCustomScrollBox"),i=u.children(".mCSB_container"),f=u.children(".mCSB_scrollTools"),e=f.children().children(".mCSB_dragger");u.unbind("mousewheel focusin mouseenter mouseleave touchend"),i.unbind("touchstart touchmove"),t&&(r.data("horizontalScroll")?e.add(i).css("left",0):e.add(i).css("top",0)),f.css("display","none"),i.addClass("mCS_no_scrollbar"),r.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1,bindEvent_content_touch:!1,bindEvent_autoHideScrollbar:!1}).addClass("mCS_disabled")},destroy:function(){var t=n(this);t.removeClass("mCustomScrollbar _mCS_"+t.data("mCustomScrollbarIndex")).addClass("mCS_destroyed").children().children(".mCSB_container").unwrap().children().unwrap().siblings(".mCSB_scrollTools").remove(),n(document).unbind("mousemove."+t.data("mCustomScrollbarIndex")+" mouseup."+t.data("mCustomScrollbarIndex")+" MSPointerMove."+t.data("mCustomScrollbarIndex")+" MSPointerUp."+t.data("mCustomScrollbarIndex")),n(window).unbind("resize."+t.data("mCustomScrollbarIndex"))}},t={showScrollbar:function(){this.stop().animate({opacity:1},"fast")},hideScrollbar:function(){this.stop().animate({opacity:0},"fast")},mTweenAxis:function(n,t,i,r,u,f){function l(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()}function a(){e||y.call(),e=l()-b,v(),e>=n._time&&(n._time=e>n._time?e+o-(e-n._time):e+o-1,n._time<e+1&&(n._time=e+1)),n._time<r?n._id=_request(a):w.call()}function v(){r>0?(n.currVal=g(n._time,s,c,r,u),h[t]=Math.round(n.currVal)+"px"):h[t]=i+"px",p.call()}function k(){o=1e3/60,n._time=e+o,_request=window.requestAnimationFrame?window.requestAnimationFrame:function(n){return v(),setTimeout(n,.01)},n._id=_request(a)}function d(){n._id!=null&&(window.requestAnimationFrame?window.cancelAnimationFrame(n._id):clearTimeout(n._id),n._id=null)}function g(n,t,i,r,u){switch(u){case"linear":return i*n/r+t;case"easeOutQuad":return n/=r,-i*n*(n-2)+t;case"easeInOutQuad":return(n/=r/2,n<1)?i/2*n*n+t:(n--,-i/2*(n*(n-2)-1)+t);case"easeOutCubic":return n/=r,n--,i*(n*n*n+1)+t;case"easeOutQuart":return n/=r,n--,-i*(n*n*n*n-1)+t;case"easeOutQuint":return n/=r,n--,i*(n*n*n*n*n+1)+t;case"easeOutCirc":return n/=r,n--,i*Math.sqrt(1-n*n)+t;case"easeOutSine":return i*Math.sin(n/r*(Math.PI/2))+t;case"easeOutExpo":return i*(-Math.pow(2,-10*n/r)+1)+t;case"mcsEaseOut":var f=(n/=r)*n,e=f*n;return t+i*(.499999999999997*e*f+-2.5*f*f+5.5*e+-6.5*f+4*n);case"draggerRailEase":return(n/=r/2,n<1)?i/2*n*n*n+t:(n-=2,i/2*(n*n*n+2)+t)}}var f=f||{},y=f.onStart||function(){},p=f.onUpdate||function(){},w=f.onComplete||function(){},b=l(),o,e=0,s=n.offsetTop,h=n.style,c;t==="left"&&(s=n.offsetLeft),c=i-s,d(),k()},mTweenAxisStop:function(n){n._id!=null&&(window.requestAnimationFrame?window.cancelAnimationFrame(n._id):clearTimeout(n._id),n._id=null)},rafPolyfill:function(){for(var n=["ms","moz","webkit","o"],t=n.length;--t>-1&&!window.requestAnimationFrame;)window.requestAnimationFrame=window[n[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[t]+"CancelAnimationFrame"]||window[n[t]+"CancelRequestAnimationFrame"]}},r;t.rafPolyfill.call(),n.support.touch=!!("ontouchstart"in window),n.support.msPointer=window.navigator.msPointerEnabled,r="https:"==document.location.protocol?"https:":"http:",n.event.special.mousewheel||document.write('<script src="'+r+'//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.0.6/jquery.mousewheel.min.js"><\/script>'),n.fn.mCustomScrollbar=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist");else return i.init.apply(this,arguments)}}(jQuery),$(function(){return $.fn.simpleProgressBar=function(n){var t;return t={direction:"horizontal",innerLength:0,outerLength:100},n=$.extend(t,n),this.each(function(){var u,n,h,i,o,f,r,e,s;return r=$(this),u=t.direction,i=r.attr("data-bar-length")||t.innerLength,u==="horizontal"?(f=$(this).width(),n="width"):u==="vertical"&&(f=$(this).height(),n="height"),i=parseInt(i,10)*.01,o=i*f,s=n,e={},e[s]=o+"px",h=r.append('<div class="innerbar"><\/div>'),r.children(".innerbar").css(n,"0px").animate(e,"slow")})}}),function(n,t){"use strict";var i=t.event,r,u;i.special.smartresize={setup:function(){t(this).bind("resize",i.special.smartresize.handler)},teardown:function(){t(this).unbind("resize",i.special.smartresize.handler)},handler:function(n,t){var u=this,f=arguments;n.type="smartresize",r&&clearTimeout(r),r=setTimeout(function(){i.dispatch.apply(u,f)},t==="execAsap"?0:100)}},t.fn.smartresize=function(n){return n?this.bind("smartresize",n):this.trigger("smartresize",["execAsap"])},t.Mason=function(n,i){this.element=t(i),this._create(n),this._init()},t.Mason.settings={isResizable:!0,isAnimated:!1,animationOptions:{queue:!1,duration:500},gutterWidth:0,isRTL:!1,isFitWidth:!1,containerStyle:{position:"relative"}},t.Mason.prototype={_filterFindBricks:function(n){var t=this.options.itemSelector;return t?n.filter(t).add(n.find(t)):n},_getBricks:function(n){return this._filterFindBricks(n).css({position:"absolute"}).addClass("masonry-brick")},_create:function(i){var r,u,f,e,o,s;this.options=t.extend(!0,{},t.Mason.settings,i),this.styleQueue=[],r=this.element[0].style,this.originalStyle={height:r.height||""},u=this.options.containerStyle;for(f in u)this.originalStyle[f]=r[f]||"";this.element.css(u),this.horizontalDirection=this.options.isRTL?"right":"left",e=this.element.css("padding-"+this.horizontalDirection),o=this.element.css("padding-top"),this.offset={x:e?parseInt(e,10):0,y:o?parseInt(o,10):0},this.isFluid=this.options.columnWidth&&typeof this.options.columnWidth=="function",s=this,setTimeout(function(){s.element.addClass("masonry")},0),this.options.isResizable&&t(n).bind("smartresize.masonry",function(){s.resize()}),this.reloadItems()},_init:function(n){this._getColumns(),this._reLayout(n)},option:function(n){t.isPlainObject(n)&&(this.options=t.extend(!0,this.options,n))},layout:function(n,t){for(var u,f,o,s,e,i=0,r=n.length;i<r;i++)this._placeBrick(n[i]);if(u={},u.height=Math.max.apply(Math,this.colYs),this.options.isFitWidth){for(f=0,i=this.cols;--i;){if(this.colYs[i]!==0)break;f++}u.width=(this.cols-f)*this.columnWidth-this.options.gutterWidth}for(this.styleQueue.push({$el:this.element,style:u}),o=this.isLaidOut?this.options.isAnimated?"animate":"css":"css",s=this.options.animationOptions,i=0,r=this.styleQueue.length;i<r;i++)e=this.styleQueue[i],e.$el[o](e.style,s);this.styleQueue=[],t&&t.call(n),this.isLaidOut=!0},_getColumns:function(){var t=this.options.isFitWidth?this.element.parent():this.element,n=t.width();this.columnWidth=this.isFluid?this.options.columnWidth(n):this.options.columnWidth||this.$bricks.outerWidth(!0)||n,this.columnWidth+=this.options.gutterWidth,this.cols=Math.floor((n+this.options.gutterWidth)/this.columnWidth),this.cols=Math.max(this.cols,1)},_placeBrick:function(n){var s=t(n),r,l,u,a,f,e,o,i,h,c,v,y;if(r=Math.ceil(s.outerWidth(!0)/this.columnWidth),r=Math.min(r,this.cols),r===1)u=this.colYs;else for(l=this.cols+1-r,u=[],f=0;f<l;f++)a=this.colYs.slice(f,f+r),u[f]=Math.max.apply(Math,a);for(e=Math.min.apply(Math,u),o=0,i=0,h=u.length;i<h;i++)if(u[i]===e){o=i;break}for(c={top:e+this.offset.y},c[this.horizontalDirection]=this.columnWidth*o+this.offset.x,this.styleQueue.push({$el:s,style:c}),v=e+s.outerHeight(!0),y=this.cols+1-h,i=0;i<y;i++)this.colYs[o+i]=v},resize:function(){var n=this.cols;this._getColumns(),(this.isFluid||this.cols!==n)&&this._reLayout()},_reLayout:function(n){var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.layout(this.$bricks,n)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(n){this.reloadItems(),this._init(n)},appended:function(n,t,i){if(t){this._filterFindBricks(n).css({top:this.element.height()});var r=this;setTimeout(function(){r._appended(n,i)},1)}else this._appended(n,i)},_appended:function(n,t){var i=this._getBricks(n);this.$bricks=this.$bricks.add(i),this.layout(i,t)},remove:function(n){this.$bricks=this.$bricks.not(n),n.remove()},destroy:function(){var r,i;this.$bricks.removeClass("masonry-brick").each(function(){this.style.position="",this.style.top="",this.style.left=""}),r=this.element[0].style;for(i in this.originalStyle)r[i]=this.originalStyle[i];this.element.unbind(".masonry").removeClass("masonry").removeData("masonry"),t(n).unbind(".masonry")}},t.fn.imagesLoaded=function(n){function o(){n.call(i,r)}function s(n){var i=n.target;i.src!==f&&t.inArray(i,e)===-1&&(e.push(i),--u<=0&&(setTimeout(o),r.unbind(".imagesLoaded",s)))}var i=this,r=i.find("img").add(i.filter("img")),u=r.length,f="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",e=[];return u||o(),r.bind("load.imagesLoaded error.imagesLoaded",s).each(function(){var n=this.src;this.src=f,this.src=n}),i},u=function(t){n.console&&n.console.error(t)},t.fn.masonry=function(n){if(typeof n=="string"){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var r=t.data(this,"masonry");if(!r){u("cannot call methods on masonry prior to initialization; attempted to call method '"+n+"'");return}if(!t.isFunction(r[n])||n.charAt(0)==="_"){u("no such method '"+n+"' for masonry instance");return}r[n].apply(r,i)})}else this.each(function(){var i=t.data(this,"masonry");i?(i.option(n||{}),i._init()):t.data(this,"masonry",new t.Mason(n,this))});return this}}(window,jQuery),function(n){function i(){var n=location.href;return hashtag=n.indexOf("#prettyPhoto")!==-1?decodeURI(n.substring(n.indexOf("#prettyPhoto")+1,n.length)):!1}function r(){typeof theRel!="undefined"&&(location.hash=theRel+"/"+rel_index+"/")}function u(){location.href.indexOf("#prettyPhoto")!==-1&&(location.hash="prettyPhoto")}function t(n,t){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r="[\\?&]"+n+"=([^&#]*)",u=new RegExp(r),i=u.exec(t);return i==null?"":i[1]}n.prettyPhoto={version:"3.1.5"},n.fn.prettyPhoto=function(f){function b(){n(".pp_loaderIcon").hide(),projectedTop=scroll_pos.scrollTop+(h/2-e.containerHeight/2),projectedTop<0&&(projectedTop=0),$ppt.fadeTo(settings.animation_speed,1),$pp_pic_holder.find(".pp_content").animate({height:e.contentHeight,width:e.contentWidth},settings.animation_speed),$pp_pic_holder.animate({top:projectedTop,left:s/2-e.containerWidth/2<0?0:s/2-e.containerWidth/2,width:e.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(e.height).width(e.width),$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed),isSet&&k(pp_images[set_position])=="image"?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),settings.allow_expand&&(e.resized?n("a.pp_expand,a.pp_contract").show():n("a.pp_expand").hide()),!settings.autoplay_slideshow||a||p||n.prettyPhoto.startSlideshow(),settings.changepicturecallback(),p=!0}),et(),f.ajaxcallback()}function nt(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){n(".pp_loaderIcon").show(),t()})}function ut(t){t>1?n(".pp_nav").show():n(".pp_nav").hide()}function o(n,t){if(resized=!1,tt(n,t),imageWidth=n,imageHeight=t,(l>s||c>h)&&doresize&&settings.allow_resize&&!v){for(resized=!0,fitting=!1;!fitting;)l>s?(imageWidth=s-200,imageHeight=t/n*imageWidth):c>h?(imageHeight=h-200,imageWidth=n/t*imageHeight):fitting=!0,c=imageHeight,l=imageWidth;(l>s||c>h)&&o(l,c),tt(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(c),containerWidth:Math.floor(l)+settings.horizontal_padding*2,contentHeight:Math.floor(w),contentWidth:Math.floor(g),resized:resized}}function tt(t,i){t=parseFloat(t),i=parseFloat(i),$pp_details=$pp_pic_holder.find(".pp_details"),$pp_details.width(t),detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom")),$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(n("body")).css({position:"absolute",top:-1e4}),detailsHeight+=$pp_details.height(),detailsHeight=detailsHeight<=34?36:detailsHeight,$pp_details.remove(),$pp_title=$pp_pic_holder.find(".ppt"),$pp_title.width(t),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(n("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove(),w=i+detailsHeight,g=t,c=w+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),l=t}function k(n){return n.match(/youtube\.com\/watch/i)||n.match(/youtu\.be/i)?"youtube":n.match(/vimeo\.com/i)?"vimeo":n.match(/\b.mov\b/i)?"quicktime":n.match(/\b.swf\b/i)?"flash":n.match(/\biframe=true\b/i)?"iframe":n.match(/\bajax=true\b/i)?"ajax":n.match(/\bcustom=true\b/i)?"custom":n.substr(0,1)=="#"?"inline":"image"}function d(){if(doresize&&typeof $pp_pic_holder!="undefined"){if(scroll_pos=it(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=h/2+scroll_pos.scrollTop-contentHeight/2,projectedTop<0&&(projectedTop=0),contentHeight>h)return;$pp_pic_holder.css({top:projectedTop,left:s/2+scroll_pos.scrollLeft-contentwidth/2})}}function it(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function ft(){h=n(window).height(),s=n(window).width(),typeof $pp_overlay!="undefined"&&$pp_overlay.height(n(document).height()).width(s)}function et(){isSet&&settings.overlay_gallery&&k(pp_images[set_position])=="image"?(itemWidth=57,navWidth=settings.theme=="facebook"||settings.theme=="pp_default"?50:30,itemsPerPage=Math.floor((e.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,totalPage==0?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,n.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function rt(){if(settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href))),settings.markup=settings.markup.replace("{pp_social}",""),n("body").append(settings.markup),$pp_pic_holder=n(".pp_pic_holder"),$ppt=n(".ppt"),$pp_overlay=n("div.pp_overlay"),isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var t=0;t<pp_images.length;t++)pp_images[t].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname="",img_src=pp_images[t]):(classname="default",img_src=""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /><\/a><\/li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_gallery=n(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li"),$pp_gallery.find(".pp_arrow_next").click(function(){return n.prettyPhoto.changeGalleryPage("next"),n.prettyPhoto.stopSlideshow(),!1}),$pp_gallery.find(".pp_arrow_previous").click(function(){return n.prettyPhoto.changeGalleryPage("previous"),n.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()}),itemWidth=57,$pp_gallery_li.each(function(t){n(this).find("a").click(function(){return n.prettyPhoto.changePage(t),n.prettyPhoto.stopSlideshow(),!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play<\/a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){return n.prettyPhoto.startSlideshow(),!1})),$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme),$pp_overlay.css({opacity:0,height:n(document).height(),width:n(window).width()}).bind("click",function(){settings.modal||n.prettyPhoto.close()}),n("a.pp_close").bind("click",function(){return n.prettyPhoto.close(),!1}),settings.allow_expand&&n("a.pp_expand").bind("click",function(){return n(this).hasClass("pp_expand")?(n(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(n(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0),nt(function(){n.prettyPhoto.open()}),!1}),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){return n.prettyPhoto.changePage("previous"),n.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){return n.prettyPhoto.changePage("next"),n.prettyPhoto.stopSlideshow(),!1}),d()}f=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,allow_expand:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,overlay_gallery_max:30,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"> \t\t\t\t\t\t<div class="ppt">&nbsp;<\/div> \t\t\t\t\t\t<div class="pp_top"> \t\t\t\t\t\t\t<div class="pp_left"><\/div> \t\t\t\t\t\t\t<div class="pp_middle"><\/div> \t\t\t\t\t\t\t<div class="pp_right"><\/div> \t\t\t\t\t\t<\/div> \t\t\t\t\t\t<div class="pp_content_container"> \t\t\t\t\t\t\t<div class="pp_left"> \t\t\t\t\t\t\t<div class="pp_right"> \t\t\t\t\t\t\t\t<div class="pp_content"> \t\t\t\t\t\t\t\t\t<div class="pp_loaderIcon"><\/div> \t\t\t\t\t\t\t\t\t<div class="pp_fade"> \t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_expand" title="Expand the image">Expand<\/a> \t\t\t\t\t\t\t\t\t\t<div class="pp_hoverContainer"> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_next" href="#">next<\/a> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_previous" href="#">previous<\/a> \t\t\t\t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t\t\t\t<div id="pp_full_res"><\/div> \t\t\t\t\t\t\t\t\t\t<div class="pp_details"> \t\t\t\t\t\t\t\t\t\t\t<div class="pp_nav"> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous<\/a> \t\t\t\t\t\t\t\t\t\t\t\t<p class="currentTextHolder">0/0<\/p> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next<\/a> \t\t\t\t\t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t\t\t\t\t<p class="pp_description"><\/p> \t\t\t\t\t\t\t\t\t\t\t<div class="pp_social">{pp_social}<\/div> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_close" href="#">Close<\/a> \t\t\t\t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t<\/div> \t\t\t\t\t\t<div class="pp_bottom"> \t\t\t\t\t\t\t<div class="pp_left"><\/div> \t\t\t\t\t\t\t<div class="pp_middle"><\/div> \t\t\t\t\t\t\t<div class="pp_right"><\/div> \t\t\t\t\t\t<\/div> \t\t\t\t\t<\/div> \t\t\t\t\t<div class="pp_overlay"><\/div>',gallery_markup:'<div class="pp_gallery"> \t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous<\/a> \t\t\t\t\t\t\t\t<div> \t\t\t\t\t\t\t\t\t<ul> \t\t\t\t\t\t\t\t\t\t{gallery} \t\t\t\t\t\t\t\t\t<\/ul> \t\t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next<\/a> \t\t\t\t\t\t\t<\/div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"><\/embed><\/object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"><\/embed><\/object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"><\/iframe>',inline_markup:'<div class="pp_inline">{content}<\/div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet<\/a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"><\/script><\/div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"><\/iframe><\/div>'},f);var y=this,v=!1,e,p,w,g,c,l,h=n(window).height(),s=n(window).width(),a;return doresize=!0,scroll_pos=it(),n(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){d(),ft()}),f.keyboard_shortcuts&&n(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(t){if(typeof $pp_pic_holder!="undefined"&&$pp_pic_holder.is(":visible"))switch(t.keyCode){case 37:n.prettyPhoto.changePage("previous"),t.preventDefault();break;case 39:n.prettyPhoto.changePage("next"),t.preventDefault();break;case 27:settings.modal||n.prettyPhoto.close(),t.preventDefault()}}),n.prettyPhoto.initialize=function(){return settings=f,settings.theme=="pp_default"&&(settings.horizontal_padding=16),theRel=n(this).attr(settings.hook),galleryRegExp=/\[(?:.*)\]/,isSet=galleryRegExp.exec(theRel)?!0:!1,pp_images=isSet?jQuery.map(y,function(t){if(n(t).attr(settings.hook).indexOf(theRel)!=-1)return n(t).attr("href")}):n.makeArray(n(this).attr("href")),pp_titles=isSet?jQuery.map(y,function(t){if(n(t).attr(settings.hook).indexOf(theRel)!=-1)return n(t).find("img").attr("alt")?n(t).find("img").attr("alt"):""}):n.makeArray(n(this).find("img").attr("alt")),pp_descriptions=isSet?jQuery.map(y,function(t){if(n(t).attr(settings.hook).indexOf(theRel)!=-1)return n(t).attr("title")?n(t).attr("title"):""}):n.makeArray(n(this).attr("title")),pp_images.length>settings.overlay_gallery_max&&(settings.overlay_gallery=!1),set_position=jQuery.inArray(n(this).attr("href"),pp_images),rel_index=isSet?set_position:n("a["+settings.hook+"^='"+theRel+"']").index(n(this)),rt(this),settings.allow_resize&&n(window).bind("scroll.prettyphoto",function(){d()}),n.prettyPhoto.open(),!1},n.prettyPhoto.open=function(i){return typeof settings=="undefined"&&(settings=f,pp_images=n.makeArray(arguments[0]),pp_titles=arguments[1]?n.makeArray(arguments[1]):n.makeArray(""),pp_descriptions=arguments[2]?n.makeArray(arguments[2]):n.makeArray(""),isSet=pp_images.length>1?!0:!1,set_position=arguments[3]?arguments[3]:0,rt(i.target)),settings.hideflash&&n("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden"),ut(n(pp_images).size()),n(".pp_loaderIcon").show(),settings.deeplinking&&r(),settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)),$pp_pic_holder.find(".pp_social").html(facebook_like_link)),$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+n(pp_images).size()),typeof pp_descriptions[set_position]!="undefined"&&pp_descriptions[set_position]!=""?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide(),movie_width=parseFloat(t("width",pp_images[set_position]))?t("width",pp_images[set_position]):settings.default_width.toString(),movie_height=parseFloat(t("height",pp_images[set_position]))?t("height",pp_images[set_position]):settings.default_height.toString(),v=!1,movie_height.indexOf("%")!=-1&&(movie_height=parseFloat(n(window).height()*parseFloat(movie_height)/100-150),v=!0),movie_width.indexOf("%")!=-1&&(movie_width=parseFloat(n(window).width()*parseFloat(movie_width)/100-150),v=!0),$pp_pic_holder.fadeIn(function(){settings.show_title&&pp_titles[set_position]!=""&&typeof pp_titles[set_position]!="undefined"?$ppt.html(unescape(pp_titles[set_position])):$ppt.html("&nbsp;"),imgPreloader="",skipInjection=!1;switch(k(pp_images[set_position])){case"image":imgPreloader=new Image,nextImage=new Image,isSet&&set_position<n(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]),prevImage=new Image,isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]),imgPreloader.onload=function(){e=o(imgPreloader.width,imgPreloader.height),b()},imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),n.prettyPhoto.close()},imgPreloader.src=pp_images[set_position];break;case"youtube":e=o(movie_width,movie_height),movie_id=t("v",pp_images[set_position]),movie_id==""&&(movie_id=pp_images[set_position].split("youtu.be/"),movie_id=movie_id[1],movie_id.indexOf("?")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),movie_id.indexOf("&")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("&")))),movie="http://www.youtube.com/embed/"+movie_id,movie+=t("rel",pp_images[set_position])?"?rel="+t("rel",pp_images[set_position]):"?rel=1",settings.autoplay&&(movie+="&autoplay=1"),toInject=settings.iframe_markup.replace(/{width}/g,e.width).replace(/{height}/g,e.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":e=o(movie_width,movie_height),movie_id=pp_images[set_position];var i=movie_id.match(/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/);movie="http://player.vimeo.com/video/"+i[3]+"?title=0&amp;byline=0&amp;portrait=0",settings.autoplay&&(movie+="&autoplay=1;"),vimeo_width=e.width+"/embed/?moog_width="+e.width,toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,e.height).replace(/{path}/g,movie);break;case"quicktime":e=o(movie_width,movie_height),e.height+=15,e.contentHeight+=15,e.containerHeight+=15,toInject=settings.quicktime_markup.replace(/{width}/g,e.width).replace(/{height}/g,e.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":e=o(movie_width,movie_height),flash_vars=pp_images[set_position],flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length),filename=pp_images[set_position],filename=filename.substring(0,filename.indexOf("?")),toInject=settings.flash_markup.replace(/{width}/g,e.width).replace(/{height}/g,e.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":e=o(movie_width,movie_height),frame_url=pp_images[set_position],frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1),toInject=settings.iframe_markup.replace(/{width}/g,e.width).replace(/{height}/g,e.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1,e=o(movie_width,movie_height),doresize=!0,skipInjection=!0,n.get(pp_images[set_position],function(n){toInject=settings.inline_markup.replace(/{content}/g,n),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,b()});break;case"custom":e=o(movie_width,movie_height),toInject=settings.custom_markup;break;case"inline":myClone=n(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"><\/div><\/div>').appendTo(n("body")).show(),doresize=!1,e=o(n(myClone).width(),n(myClone).height()),doresize=!0,n(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,n(pp_images[set_position]).html())}imgPreloader||skipInjection||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,b())}),!1},n.prettyPhoto.changePage=function(t){currentGalleryPage=0,t=="previous"?(set_position--,set_position<0&&(set_position=n(pp_images).size()-1)):t=="next"?(set_position++,set_position>n(pp_images).size()-1&&(set_position=0)):set_position=t,rel_index=set_position,doresize||(doresize=!0),settings.allow_expand&&n(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),nt(function(){n.prettyPhoto.open()})},n.prettyPhoto.changeGalleryPage=function(n){n=="next"?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):n=="previous"?(currentGalleryPage--,currentGalleryPage<0&&(currentGalleryPage=totalPage)):currentGalleryPage=n,slide_speed=n=="next"||n=="previous"?settings.animation_speed:0,slide_to=currentGalleryPage*itemsPerPage*itemWidth,$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)},n.prettyPhoto.startSlideshow=function(){typeof a=="undefined"?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){return n.prettyPhoto.stopSlideshow(),!1}),a=setInterval(n.prettyPhoto.startSlideshow,settings.slideshow)):n.prettyPhoto.changePage("next")},n.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){return n.prettyPhoto.startSlideshow(),!1}),clearInterval(a),a=undefined},n.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(n.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),n("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){n(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){settings.hideflash&&n("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible"),n(this).remove(),n(window).unbind("scroll.prettyphoto"),u(),settings.callback(),doresize=!0,p=!1,delete settings}))},!pp_alreadyInitialized&&i()&&(pp_alreadyInitialized=!0,hashIndex=i(),hashRel=hashIndex,hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){n("a["+f.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)),this.unbind("click.prettyphoto").bind("click.prettyphoto",n.prettyPhoto.initialize)}}(jQuery);var pp_alreadyInitialized=!1;(function(n){"use strict";var r=function(){this.markers=[],this.mainMarker=!1,this.icon="http://www.google.com/mapfiles/marker.png"};r.prototype.dist=function(n){return Math.sqrt(Math.pow(this.markers[0].latitude-n.latitude,2)+Math.pow(this.markers[0].longitude-n.longitude,2))},r.prototype.setIcon=function(n){this.icon=n},r.prototype.addMarker=function(n){this.markers[this.markers.length]=n},r.prototype.getMarker=function(){if(this.mainmarker)return this.mainmarker;var n,i;return this.markers.length>1?(n=new t.MarkerImage("http://chart.googleapis.com/chart?chst=d_map_pin_letter&chld="+this.markers.length+"%7cff776b%7c000000"),i="cluster of "+this.markers.length+" markers"):(n=new t.MarkerImage(this.icon),i=this.markers[0].title),this.mainmarker=new t.Marker({position:new t.LatLng(this.markers[0].latitude,this.markers[0].longitude),icon:n,title:i,map:null}),this.mainmarker};var t=google.maps,u=new t.Geocoder,f=0,e=0,i={};i={init:function(r){var f,u=n.extend({},n.fn.gMap.defaults,r);for(f in n.fn.gMap.defaults.icon)u.icon[f]||(u.icon[f]=n.fn.gMap.defaults.icon[f]);return this.each(function(){var f=n(this),s=i._getMapCenter.apply(f,[u]),e,h,r,o;if(u.zoom=="fit"&&(u.zoomFit=!0,u.zoom=i._autoZoom.apply(f,[u])),r={zoom:u.zoom,center:s,mapTypeControl:u.mapTypeControl,mapTypeControlOptions:{},zoomControl:u.zoomControl,zoomControlOptions:{},panControl:u.panControl,panControlOptions:{},scaleControl:u.scaleControl,scaleControlOptions:{},streetViewControl:u.streetViewControl,streetViewControlOptions:{},mapTypeId:u.maptype,scrollwheel:u.scrollwheel,maxZoom:u.maxZoom,minZoom:u.minZoom},u.controlsPositions.mapType&&(r.mapTypeControlOptions.position=u.controlsPositions.mapType),u.controlsPositions.zoom&&(r.zoomControlOptions.position=u.controlsPositions.zoom),u.controlsPositions.pan&&(r.panControlOptions.position=u.controlsPositions.pan),u.controlsPositions.scale&&(r.scaleControlOptions.position=u.controlsPositions.scale),u.controlsPositions.streetView&&(r.streetViewControlOptions.position=u.controlsPositions.streetView),u.styles&&(r.styles=u.styles),r.mapTypeControlOptions.style=u.controlsStyle.mapType,r.zoomControlOptions.style=u.controlsStyle.zoom,r=n.extend(r,u.extra),o=new t.Map(this,r),u.log&&console.log("map center is:"),u.log&&console.log(s),f.data("$gmap",o),f.data("gmap",{opts:u,gmap:o,markers:[],markerKeys:{},infoWindow:null,clusters:[]}),u.controls.length!==0)for(e=0;e<u.controls.length;e+=1)o.controls[u.controls[e].pos].push(u.controls[e].div);u.clustering.enabled?(h=f.data("gmap"),function(n){h.markers=n}(u.markers),i._renderCluster.apply(f,[]),t.event.addListener(o,"bounds_changed",function(){i._renderCluster.apply(f,[])})):u.markers.length!==0&&i.addMarkers.apply(f,[u.markers]),i._onComplete.apply(f,[])})},_delayedMode:!1,_onComplete:function(){var n=this.data("gmap"),u=this,t,r;if(f!==0){window.setTimeout(function(){i._onComplete.apply(u,[])},100);return}i._delayedMode&&(t=i._getMapCenter.apply(this,[n.opts,!0]),i._setMapCenter.apply(this,[t]),n.opts.zoomFit&&(r=i._autoZoom.apply(this,[n.opts,!0]),n.gmap.setZoom(r))),n.opts.onComplete()},_setMapCenter:function(n){var t=this.data("gmap"),r;t&&t.opts.log&&console.log("delayed setMapCenter called"),t&&t.gmap!==undefined&&f==0?t.gmap.setCenter(n):(r=this,window.setTimeout(function(){i._setMapCenter.apply(r,[n])},100))},_boundaries:null,_getBoundaries:function(n){var r=n.markers,t,u=1e3,f=-1e3,e=1e3,o=-1e3;if(r){for(t=0;t<r.length;t+=1)r[t].latitude&&r[t].longitude&&(u>r[t].latitude&&(u=r[t].latitude),f<r[t].longitude&&(f=r[t].longitude),e>r[t].longitude&&(e=r[t].longitude),o<r[t].latitude&&(o=r[t].latitude),n.log&&console.log(r[t].latitude,r[t].longitude,u,f,e,o));i._boundaries={N:u,E:f,W:e,S:o}}return u==-1e3&&(i._boundaries={N:0,E:0,W:0,S:0}),i._boundaries},_getBoundariesFromMarkers:function(){var t=this.data("gmap").markers,n,r=1e3,u=-1e3,f=1e3,e=-1e3;if(t){for(n=0;n<t.length;n+=1)r>t[n].getPosition().lat()&&(r=t[n].getPosition().lat()),u<t[n].getPosition().lng()&&(u=t[n].getPosition().lng()),f>t[n].getPosition().lng()&&(f=t[n].getPosition().lng()),e<t[n].getPosition().lat()&&(e=t[n].getPosition().lat());i._boundaries={N:r,E:u,W:f,S:e}}return r==-1e3&&(i._boundaries={N:0,E:0,W:0,S:0}),i._boundaries},_getMapCenter:function(n,r){var o,h=this,f,e,s;if(n.markers.length&&(n.latitude=="fit"||n.longitude=="fit"))return s=r?i._getBoundariesFromMarkers.apply(this):i._getBoundaries(n),o=new t.LatLng((s.N+s.S)/2,(s.E+s.W)/2),n.log&&console.log(r,s,o),o;if(n.latitude&&n.longitude)return new t.LatLng(n.latitude,n.longitude);if(o=new t.LatLng(0,0),n.address)return u.geocode({address:n.address},function(t,r){r===google.maps.GeocoderStatus.OK?i._setMapCenter.apply(h,[t[0].geometry.location]):n.log&&console.log("Geocode was not successful for the following reason: "+r)}),o;if(n.markers.length>0){for(e=null,f=0;f<n.markers.length;f+=1)if(n.markers[f].setCenter){e=n.markers[f];break}if(e===null)for(f=0;f<n.markers.length;f+=1){if(n.markers[f].latitude&&n.markers[f].longitude){e=n.markers[f];break}n.markers[f].address&&(e=n.markers[f])}if(e===null)return o;if(e.latitude&&e.longitude)return new t.LatLng(e.latitude,e.longitude);e.address&&u.geocode({address:e.address},function(t,r){r===google.maps.GeocoderStatus.OK?i._setMapCenter.apply(h,[t[0].geometry.location]):n.log&&console.log("Geocode was not successful for the following reason: "+r)})}return o},_renderCluster:function(){for(var o=this.data("gmap"),f=o.markers,t=o.clusters,s=o.opts,u,h,p,n=0;n<t.length;n+=1)t[n].getMarker().setMap(null);if(t.length=0,h=o.gmap.getBounds(),!h){p=this,window.setTimeout(function(){i._renderCluster.apply(p)},1e3);return}var l=h.getNorthEast(),a=h.getSouthWest(),k=l.lat()-a.lat(),e=[],c,w,b=k*s.clustering.clusterSize/100,v,y;for(n=0;n<f.length;n+=1)f[n].latitude<l.lat()&&f[n].latitude>a.lat()&&f[n].longitude<l.lng()&&f[n].longitude>a.lng()&&(e[e.length]=f[n]);for(s.log&&console.log("number of markers "+e.length+"/"+f.length),s.log&&console.log("cluster radius: "+b),n=0;n<e.length;n+=1){for(w=1e4,c=-1,u=0;u<t.length;u+=1)if(v=t[u].dist(e[n]),v<b&&(w=v,c=u,s.clustering.fastClustering))break;c===-1?(y=new r,y.addMarker(e[n]),t[t.length]=y):t[c].addMarker(e[n])}for(s.log&&console.log("Total clusters in viewport: "+t.length),u=0;u<t.length;u+=1)t[u].getMarker().setMap(o.gmap)},_processMarker:function(n,i,r,u){var e=this.data("gmap"),c=e.gmap,f=e.opts,o,l,s,y,h,v,a;u===undefined&&(u=new t.LatLng(n.latitude,n.longitude)),i||(s={image:f.icon.image,iconSize:new t.Size(f.icon.iconsize[0],f.icon.iconsize[1]),iconAnchor:new t.Point(f.icon.iconanchor[0],f.icon.iconanchor[1]),infoWindowAnchor:new t.Size(f.icon.infowindowanchor[0],f.icon.infowindowanchor[1])},i=new t.MarkerImage(s.image,s.iconSize,null,s.iconAnchor)),r||(y={image:f.icon.shadow,iconSize:new t.Size(f.icon.shadowsize[0],f.icon.shadowsize[1]),anchor:s&&s.iconAnchor?s.iconAnchor:new t.Point(f.icon.iconanchor[0],f.icon.iconanchor[1])}),l={position:u,icon:i,title:n.title,map:null,draggable:n.draggable===!0?!0:!1},f.clustering.enabled||(l.map=c),o=new t.Marker(l),o.setShadow(r),e.markers.push(o),n.key&&(e.markerKeys[n.key]=o),n.html&&(v=typeof n.html=="string"?f.html_prepend+n.html+f.html_append:n.html,a={content:v,pixelOffset:n.infoWindowAnchor},f.log&&console.log("setup popup with data"),f.log&&console.log(a),h=new t.InfoWindow(a),t.event.addListener(o,"click",function(){f.log&&console.log("opening popup "+n.html),f.singleInfoWindow&&e.infoWindow&&e.infoWindow.close(),h.open(c,o),e.infoWindow=h})),n.html&&n.popup&&(f.log&&console.log("opening popup "+n.html),h.open(c,o),e.infoWindow=h),n.onDragEnd&&t.event.addListener(o,"dragend",function(t){f.log&&console.log("drag end");n.onDragEnd(t)})},_geocodeMarker:function(n,r,o){var s=this;u.geocode({address:n.address},function(u,h){h===t.GeocoderStatus.OK?(f-=1,s.data("gmap").opts.log&&console.log("Geocode was successful with point: ",u[0].geometry.location),i._processMarker.apply(s,[n,r,o,u[0].geometry.location])):(h===t.GeocoderStatus.OVER_QUERY_LIMIT&&(s.data("gmap").opts.noAlerts||e!==0||alert("Error: too many geocoded addresses! Switching to 1 marker/s mode."),e+=1e3,window.setTimeout(function(){i._geocodeMarker.apply(s,[n,r,o])},e)),s.data("gmap").opts.log&&console.log("Geocode was not successful for the following reason: "+h))})},_autoZoom:function(t,r){var o=n(this).data("gmap"),s=n.extend({},o?o.opts:{},t),f,u,h,c,e=39135.758482;for(s.log&&console.log("autozooming map"),u=r?i._getBoundariesFromMarkers.apply(this):i._getBoundaries(s),h=(u.E-u.W)*111e3/this.width(),c=(u.S-u.N)*111e3/this.height(),f=2;f<20;f+=1){if(h>e||c>e)break;e=e/2}return f-2},addMarkers:function(n){var r=this.data("gmap").opts,t;if(n.length!==0)for(r.log&&console.log("adding "+n.length+" markers"),t=0;t<n.length;t+=1)i.addMarker.apply(this,[n[t]])},addMarker:function(n){var r=this.data("gmap").opts,u,e,o,s,h;r.log&&console.log("putting marker at "+n.latitude+", "+n.longitude+" with address "+n.address+" and html "+n.html),u={image:r.icon.image,iconSize:new t.Size(r.icon.iconsize[0],r.icon.iconsize[1]),iconAnchor:new t.Point(r.icon.iconanchor[0],r.icon.iconanchor[1]),infoWindowAnchor:new t.Size(r.icon.infowindowanchor[0],r.icon.infowindowanchor[1])},e={image:r.icon.shadow,iconSize:new t.Size(r.icon.shadowsize[0],r.icon.shadowsize[1]),anchor:new t.Point(r.icon.shadowanchor[0],r.icon.shadowanchor[1])},n.infoWindowAnchor=u.infoWindowAnchor,n.icon&&(n.icon.image&&(u.image=n.icon.image),n.icon.iconsize&&(u.iconSize=new t.Size(n.icon.iconsize[0],n.icon.iconsize[1])),n.icon.iconanchor&&(u.iconAnchor=new t.Point(n.icon.iconanchor[0],n.icon.iconanchor[1])),n.icon.infowindowanchor&&(u.infoWindowAnchor=new t.Size(n.icon.infowindowanchor[0],n.icon.infowindowanchor[1])),n.icon.shadow&&(e.image=n.icon.shadow),n.icon.shadowsize&&(e.iconSize=new t.Size(n.icon.shadowsize[0],n.icon.shadowsize[1])),n.icon.shadowanchor&&(e.anchor=new t.Point(n.icon.shadowanchor[0],n.icon.shadowanchor[1]))),o=new t.MarkerImage(u.image,u.iconSize,null,u.iconAnchor),s=new t.MarkerImage(e.image,e.iconSize,null,e.anchor),n.address?(n.html==="_address"&&(n.html=n.address),n.title=="_address"&&(n.title=n.address),r.log&&console.log("geocoding marker: "+n.address),f+=1,i._delayedMode=!0,i._geocodeMarker.apply(this,[n,o,s])):(n.html==="_latlng"&&(n.html=n.latitude+", "+n.longitude),n.title=="_latlng"&&(n.title=n.latitude+", "+n.longitude),h=new t.LatLng(n.latitude,n.longitude),i._processMarker.apply(this,[n,o,s,h]))},removeAllMarkers:function(){for(var t=this.data("gmap").markers,n=0;n<t.length;n+=1)t[n].setMap(null),delete t[n];t.length=0},getMarker:function(n){return this.data("gmap").markerKeys[n]},fixAfterResize:function(n){var i=this.data("gmap");t.event.trigger(i.gmap,"resize"),n&&i.gmap.panTo(new google.maps.LatLng(0,0)),i.gmap.panTo(this.gMap("_getMapCenter",i.opts))},setZoom:function(n,t,r){var u=this.data("gmap").gmap;n==="fit"&&(n=i._autoZoom.apply(this,[t,r])),u.setZoom(parseInt(n))},changeSettings:function(n){for(var r=this.data("gmap"),u=[],t=0;t<r.markers.length;t+=1)u[t]={latitude:r.markers[t].getPosition().lat(),longitude:r.markers[t].getPosition().lng()};n.markers=u,n.zoom&&i.setZoom.apply(this,[n.zoom,n]),(n.latitude||n.longitude)&&r.gmap.panTo(i._getMapCenter.apply(this,[n]))},mapclick:function(n){google.maps.event.addListener(this.data("gmap").gmap,"click",function(t){n(t.latLng)})},geocode:function(n,i,r){u.geocode({address:n},function(n,u){u===t.GeocoderStatus.OK?i(n[0].geometry.location):r&&r(n,u)})},getRoute:function(i){var r=this.data("gmap"),l=r.gmap,f=new t.DirectionsRenderer,a=new t.DirectionsService,e={BYCAR:t.DirectionsTravelMode.DRIVING,BYBICYCLE:t.DirectionsTravelMode.BICYCLING,BYFOOT:t.DirectionsTravelMode.WALKING},o={MILES:t.DirectionsUnitSystem.IMPERIAL,KM:t.DirectionsUnitSystem.METRIC},u=null,s=null,h=null,c;return i.routeDisplay!==undefined?u=i.routeDisplay instanceof jQuery?i.routeDisplay[0]:typeof i.routeDisplay=="string"?n(i.routeDisplay)[0]:null:r.opts.routeFinder.routeDisplay!==null&&(u=r.opts.routeFinder.routeDisplay instanceof jQuery?r.opts.routeFinder.routeDisplay[0]:typeof r.opts.routeFinder.routeDisplay=="string"?n(r.opts.routeFinder.routeDisplay)[0]:null),f.setMap(l),u!==null&&f.setPanel(u),s=e[r.opts.routeFinder.travelMode]!==undefined?e[r.opts.routeFinder.travelMode]:e.BYCAR,h=o[r.opts.routeFinder.travelUnit]!==undefined?o[r.opts.routeFinder.travelUnit]:o.KM,c={origin:i.from,destination:i.to,travelMode:s,unitSystem:h},a.route(c,function(i,e){e==t.DirectionsStatus.OK?f.setDirections(i):u!==null&&n(u).html(r.opts.routeFinder.routeErrors[e])}),this}},n.fn.gMap=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.gmap");else return i.init.apply(this,arguments)},n.fn.gMap.defaults={log:!1,address:"",latitude:null,longitude:null,zoom:3,maxZoom:null,minZoom:null,markers:[],controls:{},scrollwheel:!0,maptype:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,zoomControl:!0,panControl:!1,scaleControl:!1,streetViewControl:!0,controlsPositions:{mapType:null,zoom:null,pan:null,scale:null,streetView:null},controlsStyle:{mapType:google.maps.MapTypeControlStyle.DEFAULT,zoom:google.maps.ZoomControlStyle.DEFAULT},singleInfoWindow:!0,html_prepend:'<div class="gmap_marker">',html_append:"<\/div>",icon:{image:"http://www.google.com/mapfiles/marker.png",iconsize:[20,34],iconanchor:[9,34],infowindowanchor:[9,2],shadow:"http://www.google.com/mapfiles/shadow50.png",shadowsize:[37,34],shadowanchor:[9,34]},onComplete:function(){},routeFinder:{travelMode:"BYCAR",travelUnit:"KM",routeDisplay:null,routeErrors:{INVALID_REQUEST:"The provided request is invalid.",NOT_FOUND:"One or more of the given addresses could not be found.",OVER_QUERY_LIMIT:"A temporary error occured. Please try again in a few minutes.",REQUEST_DENIED:"An error occured. Please contact us.",UNKNOWN_ERROR:"An unknown error occured. Please try again.",ZERO_RESULTS:"No route could be found within the given addresses."}},clustering:{enabled:!1,fastClustering:!1,clusterCount:10,clusterSize:40},extra:{}}})(jQuery),function(n){n.flexslider=function(t,i){var r=n(t),u=n.extend({},n.flexslider.defaults,i),f=u.namespace,l="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,v=l?"touchend":"click",h=u.direction==="vertical",s=u.reverse,o=u.itemWidth>0,c=u.animation==="fade",a=u.asNavFor!=="",e={};n.data(t,"flexslider",r),e={init:function(){r.animating=!1,r.currentSlide=u.startAt,r.animatingTo=r.currentSlide,r.atEnd=r.currentSlide===0||r.currentSlide===r.last,r.containerSelector=u.selector.substr(0,u.selector.search(" ")),r.slides=n(u.selector,r),r.container=n(r.containerSelector,r),r.count=r.slides.length,r.syncExists=n(u.sync).length>0,u.animation==="slide"&&(u.animation="swing"),r.prop=h?"top":"marginLeft",r.args={},r.manualPause=!1,r.transitions=!u.video&&!c&&u.useCSS&&function(){var i=document.createElement("div"),n=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"],t;for(t in n)if(i.style[n[t]]!==undefined)return r.pfx=n[t].replace("Perspective","").toLowerCase(),r.prop="-"+r.pfx+"-transform",!0;return!1}(),u.controlsContainer!==""&&(r.controlsContainer=n(u.controlsContainer).length>0&&n(u.controlsContainer)),u.manualControls!==""&&(r.manualControls=n(u.manualControls).length>0&&n(u.manualControls)),u.randomize&&(r.slides.sort(function(){return Math.round(Math.random())-.5}),r.container.empty().append(r.slides)),r.doMath(),a&&e.asNav.setup(),r.setup("init"),u.controlNav&&e.controlNav.setup(),u.directionNav&&e.directionNav.setup(),u.keyboard&&(n(r.containerSelector).length===1||u.multipleKeyboard)&&n(document).bind("keyup",function(n){var t=n.keyCode,i;r.animating||t!==39&&t!==37||(i=t===39?r.getTarget("next"):t===37?r.getTarget("prev"):!1,r.flexAnimate(i,u.pauseOnAction))}),u.mousewheel&&r.bind("mousewheel",function(n,t){n.preventDefault();var i=t<0?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(i,u.pauseOnAction)}),u.pausePlay&&e.pausePlay.setup(),u.slideshow&&(u.pauseOnHover&&r.hover(function(){r.manualPlay||r.manualPause||r.pause()},function(){r.manualPause||r.manualPlay||r.play()}),u.initDelay>0?setTimeout(r.play,u.initDelay):r.play()),l&&u.touch&&e.touch(),(!c||c&&u.smoothHeight)&&n(window).bind("resize focus",e.resize),setTimeout(function(){u.start(r)},200)},asNav:{setup:function(){r.asNav=!0,r.animatingTo=Math.floor(r.currentSlide/r.move),r.currentItem=r.currentSlide,r.slides.removeClass(f+"active-slide").eq(r.currentItem).addClass(f+"active-slide"),r.slides.click(function(t){t.preventDefault();var i=n(this),f=i.index();n(u.asNavFor).data("flexslider").animating||i.hasClass("active")||(r.direction=r.currentItem<f?"next":"prev",r.flexAnimate(f,u.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){r.manualControls?e.controlNav.setupManual():e.controlNav.setupPaging()},setupPaging:function(){var s=u.controlNav==="thumbnails"?"control-thumbs":"control-paging",i=1,o,t;if(r.controlNavScaffold=n('<ol class="'+f+"control-nav "+f+s+'"><\/ol>'),r.pagingCount>1)for(t=0;t<r.pagingCount;t++)o=u.controlNav==="thumbnails"?'<img src="'+r.slides.eq(t).attr("data-thumb")+'"/>':"<a>"+i+"<\/a>",r.controlNavScaffold.append("<li>"+o+"<\/li>"),i++;r.controlsContainer?n(r.controlsContainer).append(r.controlNavScaffold):r.append(r.controlNavScaffold),e.controlNav.set(),e.controlNav.active(),r.controlNavScaffold.delegate("a, img",v,function(t){t.preventDefault();var i=n(this),e=r.controlNav.index(i);i.hasClass(f+"active")||(r.direction=e>r.currentSlide?"next":"prev",r.flexAnimate(e,u.pauseOnAction))}),l&&r.controlNavScaffold.delegate("a","click touchstart",function(n){n.preventDefault()})},setupManual:function(){r.controlNav=r.manualControls,e.controlNav.active(),r.controlNav.live(v,function(t){t.preventDefault();var i=n(this),e=r.controlNav.index(i);i.hasClass(f+"active")||(r.direction=e>r.currentSlide?"next":"prev",r.flexAnimate(e,u.pauseOnAction))}),l&&r.controlNav.live("click touchstart",function(n){n.preventDefault()})},set:function(){var t=u.controlNav==="thumbnails"?"img":"a";r.controlNav=n("."+f+"control-nav li "+t,r.controlsContainer?r.controlsContainer:r)},active:function(){r.controlNav.removeClass(f+"active").eq(r.animatingTo).addClass(f+"active")},update:function(t,i){r.pagingCount>1&&t==="add"?r.controlNavScaffold.append(n("<li><a>"+r.count+"<\/a><\/li>")):r.pagingCount===1?r.controlNavScaffold.find("li").remove():r.controlNav.eq(i).closest("li").remove(),e.controlNav.set(),r.pagingCount>1&&r.pagingCount!==r.controlNav.length?r.update(i,t):e.controlNav.active()}},directionNav:{setup:function(){var t=n('<ul class="'+f+'direction-nav"><li><a class="'+f+'prev" href="#">'+u.prevText+'<\/a><\/li><li><a class="'+f+'next" href="#">'+u.nextText+"<\/a><\/li><\/ul>");r.controlsContainer?(n(r.controlsContainer).append(t),r.directionNav=n("."+f+"direction-nav li a",r.controlsContainer)):(r.append(t),r.directionNav=n("."+f+"direction-nav li a",r)),e.directionNav.update(),r.directionNav.bind(v,function(t){t.preventDefault();var i=n(this).hasClass(f+"next")?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(i,u.pauseOnAction)}),l&&r.directionNav.bind("click touchstart",function(n){n.preventDefault()})},update:function(){var n=f+"disabled";r.pagingCount===1?r.directionNav.addClass(n):u.animationLoop?r.directionNav.removeClass(n):r.animatingTo===0?r.directionNav.removeClass(n).filter("."+f+"prev").addClass(n):r.animatingTo===r.last?r.directionNav.removeClass(n).filter("."+f+"next").addClass(n):r.directionNav.removeClass(n)}},pausePlay:{setup:function(){var t=n('<div class="'+f+'pauseplay"><a><\/a><\/div>');r.controlsContainer?(r.controlsContainer.append(t),r.pausePlay=n("."+f+"pauseplay a",r.controlsContainer)):(r.append(t),r.pausePlay=n("."+f+"pauseplay a",r)),e.pausePlay.update(u.slideshow?f+"pause":f+"play"),r.pausePlay.bind(v,function(t){t.preventDefault(),n(this).hasClass(f+"pause")?(r.manualPause=!0,r.manualPlay=!1,r.pause()):(r.manualPause=!1,r.manualPlay=!0,r.play())}),l&&r.pausePlay.bind("click touchstart",function(n){n.preventDefault()})},update:function(n){n==="play"?r.pausePlay.removeClass(f+"pause").addClass(f+"play").text(u.playText):r.pausePlay.removeClass(f+"play").addClass(f+"pause").text(u.pauseText)}},touch:function(){function w(n){r.animating?n.preventDefault():n.touches.length===1&&(r.pause(),i=h?r.h:r.w,a=Number(new Date),l=o&&s&&r.animatingTo===r.last?0:o&&s?r.limit-(r.itemW+u.itemMargin)*r.move*r.animatingTo:o&&r.currentSlide===r.last?r.limit:o?(r.itemW+u.itemMargin)*r.move*r.currentSlide:s?(r.last-r.currentSlide+r.cloneOffset)*i:(r.currentSlide+r.cloneOffset)*i,f=h?n.touches[0].pageY:n.touches[0].pageX,e=h?n.touches[0].pageX:n.touches[0].pageY,t.addEventListener("touchmove",y,!1),t.addEventListener("touchend",p,!1))}function y(t){n=h?f-t.touches[0].pageY:f-t.touches[0].pageX,v=h?Math.abs(n)<Math.abs(t.touches[0].pageX-e):Math.abs(n)<Math.abs(t.touches[0].pageY-e),(!v||Number(new Date)-a>500)&&(t.preventDefault(),!c&&r.transitions&&(u.animationLoop||(n=n/(r.currentSlide===0&&n<0||r.currentSlide===r.last&&n>0?Math.abs(n)/i+2:1)),r.setProps(l+n,"setTouch")))}function p(){if(t.removeEventListener("touchmove",y,!1),r.animatingTo===r.currentSlide&&!v&&!(n===null)){var o=s?-n:n,h=o>0?r.getTarget("next"):r.getTarget("prev");r.canAdvance(h)&&(Number(new Date)-a<550&&Math.abs(o)>50||Math.abs(o)>i/2)?r.flexAnimate(h,u.pauseOnAction):c||r.flexAnimate(r.currentSlide,u.pauseOnAction,!0)}t.removeEventListener("touchend",p,!1),f=null,e=null,n=null,l=null}var f,e,l,i,n,a,v=!1;t.addEventListener("touchstart",w,!1)},resize:function(){!r.animating&&r.is(":visible")&&(o||r.doMath(),c?e.smoothHeight():o?(r.slides.width(r.computedW),r.update(r.pagingCount),r.setProps()):h?(r.viewport.height(r.h),r.setProps(r.h,"setTotal")):(u.smoothHeight&&e.smoothHeight(),r.newSlides.width(r.computedW),r.setProps(r.computedW,"setTotal")))},smoothHeight:function(n){if(!h||c){var t=c?r:r.viewport;n?t.animate({height:r.slides.eq(r.animatingTo).height()},n):t.height(r.slides.eq(r.animatingTo).height())}},sync:function(t){var i=n(u.sync).data("flexslider"),f=r.animatingTo;switch(t){case"animate":i.flexAnimate(f,u.pauseOnAction,!1,!0);break;case"play":i.playing||i.asNav||i.play();break;case"pause":i.pause()}}},r.flexAnimate=function(t,i,v,y,p){var b,w,g,k,d;if(a&&r.pagingCount===1&&(r.direction=r.currentItem<t?"next":"prev"),!r.animating&&(r.canAdvance(t,p)||v)&&r.is(":visible")){if(a&&y)if(b=n(u.asNavFor).data("flexslider"),r.atEnd=t===0||t===r.count-1,b.flexAnimate(t,!0,!1,!0,p),r.direction=r.currentItem<t?"next":"prev",b.direction=r.direction,Math.ceil((t+1)/r.visible)-1!==r.currentSlide&&t!==0)r.currentItem=t,r.slides.removeClass(f+"active-slide").eq(t).addClass(f+"active-slide"),t=Math.floor(t/r.visible);else return r.currentItem=t,r.slides.removeClass(f+"active-slide").eq(t).addClass(f+"active-slide"),!1;r.animating=!0,r.animatingTo=t,u.before(r),i&&r.pause(),r.syncExists&&!p&&e.sync("animate"),u.controlNav&&e.controlNav.active(),o||r.slides.removeClass(f+"active-slide").eq(t).addClass(f+"active-slide"),r.atEnd=t===0||t===r.last,u.directionNav&&e.directionNav.update(),t===r.last&&(u.end(r),u.animationLoop||r.pause()),c?l?(r.slides.eq(r.currentSlide).css({opacity:0,zIndex:1}),r.slides.eq(t).css({opacity:1,zIndex:2}),r.slides.unbind("webkitTransitionEnd transitionend"),r.slides.eq(r.currentSlide).bind("webkitTransitionEnd transitionend",function(){u.after(r)}),r.animating=!1,r.currentSlide=r.animatingTo):(r.slides.eq(r.currentSlide).fadeOut(u.animationSpeed,u.easing),r.slides.eq(t).fadeIn(u.animationSpeed,u.easing,r.wrapup)):(w=h?r.slides.filter(":first").height():r.computedW,o?(g=u.itemWidth>r.w?u.itemMargin*2:u.itemMargin,d=(r.itemW+g)*r.move*r.animatingTo,k=d>r.limit&&r.visible!==1?r.limit:d):k=r.currentSlide===0&&t===r.count-1&&u.animationLoop&&r.direction!=="next"?s?(r.count+r.cloneOffset)*w:0:r.currentSlide===r.last&&t===0&&u.animationLoop&&r.direction!=="prev"?s?0:(r.count+1)*w:s?(r.count-1-t+r.cloneOffset)*w:(t+r.cloneOffset)*w,r.setProps(k,"",u.animationSpeed),r.transitions?(u.animationLoop&&r.atEnd||(r.animating=!1,r.currentSlide=r.animatingTo),r.container.unbind("webkitTransitionEnd transitionend"),r.container.bind("webkitTransitionEnd transitionend",function(){r.wrapup(w)})):r.container.animate(r.args,u.animationSpeed,u.easing,function(){r.wrapup(w)})),u.smoothHeight&&e.smoothHeight(u.animationSpeed)}},r.wrapup=function(n){c||o||(r.currentSlide===0&&r.animatingTo===r.last&&u.animationLoop?r.setProps(n,"jumpEnd"):r.currentSlide===r.last&&r.animatingTo===0&&u.animationLoop&&r.setProps(n,"jumpStart")),r.animating=!1,r.currentSlide=r.animatingTo,u.after(r)},r.animateSlides=function(){r.animating||r.flexAnimate(r.getTarget("next"))},r.pause=function(){clearInterval(r.animatedSlides),r.playing=!1,u.pausePlay&&e.pausePlay.update("play"),r.syncExists&&e.sync("pause")},r.play=function(){r.animatedSlides=setInterval(r.animateSlides,u.slideshowSpeed),r.playing=!0,u.pausePlay&&e.pausePlay.update("pause"),r.syncExists&&e.sync("play")},r.canAdvance=function(n,t){var i=a?r.pagingCount-1:r.last;return t?!0:a&&r.currentItem===r.count-1&&n===0&&r.direction==="prev"?!0:a&&r.currentItem===0&&n===r.pagingCount-1&&r.direction!=="next"?!1:n===r.currentSlide&&!a?!1:u.animationLoop?!0:r.atEnd&&r.currentSlide===0&&n===i&&r.direction!=="next"?!1:r.atEnd&&r.currentSlide===i&&n===0&&r.direction==="next"?!1:!0},r.getTarget=function(n){return r.direction=n,n==="next"?r.currentSlide===r.last?0:r.currentSlide+1:r.currentSlide===0?r.last:r.currentSlide-1},r.setProps=function(n,t,i){var f=function(){var i=n?n:(r.itemW+u.itemMargin)*r.move*r.animatingTo,f=function(){if(o)return t==="setTouch"?n:s&&r.animatingTo===r.last?0:s?r.limit-(r.itemW+u.itemMargin)*r.move*r.animatingTo:r.animatingTo===r.last?r.limit:i;switch(t){case"setTotal":return s?(r.count-1-r.currentSlide+r.cloneOffset)*n:(r.currentSlide+r.cloneOffset)*n;case"setTouch":return s?n:n;case"jumpEnd":return s?n:r.count*n;case"jumpStart":return s?r.count*n:n;default:return n}}();return f*-1+"px"}();r.transitions&&(f=h?"translate3d(0,"+f+",0)":"translate3d("+f+",0,0)",i=i!==undefined?i/1e3+"s":"0s",r.container.css("-"+r.pfx+"-transition-duration",i)),r.args[r.prop]=f,(r.transitions||i===undefined)&&r.container.css(r.args)},r.setup=function(t){if(c)r.slides.css({width:"100%",float:"left",marginRight:"-100%",position:"relative"}),t==="init"&&(l?r.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+u.animationSpeed/1e3+"s ease",zIndex:1}).eq(r.currentSlide).css({opacity:1,zIndex:2}):r.slides.eq(r.currentSlide).fadeIn(u.animationSpeed,u.easing)),u.smoothHeight&&e.smoothHeight();else{var i,a;t==="init"&&(r.viewport=n('<div class="'+f+'viewport"><\/div>').css({overflow:"hidden",position:"relative"}).appendTo(r).append(r.container),r.cloneCount=0,r.cloneOffset=0,s&&(a=n.makeArray(r.slides).reverse(),r.slides=n(a),r.container.empty().append(r.slides))),u.animationLoop&&!o&&(r.cloneCount=2,r.cloneOffset=1,t!=="init"&&r.container.find(".clone").remove(),r.container.append(r.slides.first().clone().addClass("clone")).prepend(r.slides.last().clone().addClass("clone"))),r.newSlides=n(u.selector,r),i=s?r.count-1-r.currentSlide+r.cloneOffset:r.currentSlide+r.cloneOffset,h&&!o?(r.container.height((r.count+r.cloneCount)*200+"%").css("position","absolute").width("100%"),setTimeout(function(){r.newSlides.css({display:"block"}),r.doMath(),r.viewport.height(r.h),r.setProps(i*r.h,"init")},t==="init"?100:0)):(r.container.width((r.count+r.cloneCount)*200+"%"),r.setProps(i*r.computedW,"init"),setTimeout(function(){r.doMath(),r.newSlides.css({width:r.computedW,float:"left",display:"block"}),u.smoothHeight&&e.smoothHeight()},t==="init"?100:0))}o||r.slides.removeClass(f+"active-slide").eq(r.currentSlide).addClass(f+"active-slide")},r.doMath=function(){var f=r.slides.first(),n=u.itemMargin,t=u.minItems,i=u.maxItems;r.w=r.width(),r.h=f.height(),r.boxPadding=f.outerWidth()-f.width(),o?(r.itemT=u.itemWidth+n,r.minW=t?t*r.itemT:r.w,r.maxW=i?i*r.itemT:r.w,r.itemW=r.minW>r.w?(r.w-n*t)/t:r.maxW<r.w?(r.w-n*i)/i:u.itemWidth>r.w?r.w:u.itemWidth,r.visible=Math.floor(r.w/(r.itemW+n)),r.move=u.move>0&&u.move<r.visible?u.move:r.visible,r.pagingCount=Math.ceil((r.count-r.visible)/r.move+1),r.last=r.pagingCount-1,r.limit=r.pagingCount===1?0:u.itemWidth>r.w?(r.itemW+n*2)*r.count-r.w-n:(r.itemW+n)*r.count-r.w-n):(r.itemW=r.w,r.pagingCount=r.count,r.last=r.count-1),r.computedW=r.itemW-r.boxPadding},r.update=function(n,t){r.doMath(),o||(n<r.currentSlide?r.currentSlide+=1:n<=r.currentSlide&&n!==0&&(r.currentSlide-=1),r.animatingTo=r.currentSlide),u.controlNav&&!r.manualControls&&(t==="add"&&!o||r.pagingCount>r.controlNav.length?e.controlNav.update("add"):(t==="remove"&&!o||r.pagingCount<r.controlNav.length)&&(o&&r.currentSlide>r.last&&(r.currentSlide-=1,r.animatingTo-=1),e.controlNav.update("remove",r.last))),u.directionNav&&e.directionNav.update()},r.addSlide=function(t,i){var f=n(t);r.count+=1,r.last=r.count-1,h&&s?i!==undefined?r.slides.eq(r.count-i).after(f):r.container.prepend(f):i!==undefined?r.slides.eq(i).before(f):r.container.append(f),r.update(i,"add"),r.slides=n(u.selector+":not(.clone)",r),r.setup(),u.added(r)},r.removeSlide=function(t){var i=isNaN(t)?r.slides.index(n(t)):t;r.count-=1,r.last=r.count-1,isNaN(t)?n(t,r.slides).remove():h&&s?r.slides.eq(r.last).remove():r.slides.eq(t).remove(),r.doMath(),r.update(i,"remove"),r.slides=n(u.selector+":not(.clone)",r),r.setup(),u.removed(r)},e.init()},n.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:0,maxItems:0,move:0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}},n.fn.flexslider=function(t){if(t===undefined&&(t={}),typeof t=="object")return this.each(function(){var i=n(this),u=t.selector?t.selector:".slides > li",r=i.find(u);r.length===1?(r.fadeIn(400),t.start&&t.start(i)):i.data("flexslider")==undefined&&new n.flexslider(this,t)});var i=n(this).data("flexslider");switch(t){case"play":i.play();break;case"pause":i.pause();break;case"next":i.flexAnimate(i.getTarget("next"),!0);break;case"prev":case"previous":i.flexAnimate(i.getTarget("prev"),!0);break;default:typeof t=="number"&&i.flexAnimate(t,!0)}}}(jQuery);
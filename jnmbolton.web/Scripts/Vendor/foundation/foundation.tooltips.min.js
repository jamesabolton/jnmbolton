(function(n,t){"use strict";Foundation.libs.tooltips={name:"tooltips",version:"4.1.3",settings:{selector:".has-tip",additionalInheritableClasses:[],tooltipClass:".tooltip",appendTo:"body",tipTemplate:function(n,t){return'<span data-selector="'+n+'" class="'+Foundation.libs.tooltips.settings.tooltipClass.substring(1)+'">'+t+'<span class="nub"><\/span><\/span>'}},cache:{},init:function(t,i,r){var u=this;if(this.scope=t||this.scope,typeof i=="object"&&n.extend(!0,this.settings,i),typeof i!="string")if(Modernizr.touch)n(this.scope).on("click.fndtn.tooltip touchstart.fndtn.tooltip touchend.fndtn.tooltip","[data-tooltip]",function(t){t.preventDefault(),n(u.settings.tooltipClass).hide(),u.showOrCreateTip(n(this))}).on("click.fndtn.tooltip touchstart.fndtn.tooltip touchend.fndtn.tooltip",this.settings.tooltipClass,function(t){t.preventDefault(),n(this).fadeOut(150)});else n(this.scope).on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip","[data-tooltip]",function(t){var i=n(this);t.type==="mouseover"||t.type==="mouseenter"?u.showOrCreateTip(i):(t.type==="mouseout"||t.type==="mouseleave")&&u.hide(i)});else return this[i].call(this,r)},showOrCreateTip:function(n){var t=this.getTip(n);return t&&t.length>0?this.show(n):this.create(n)},getTip:function(t){var r=this.selector(t),i=null;return r&&(i=n("span[data-selector="+r+"]"+this.settings.tooltipClass)),typeof i=="object"?i:!1},selector:function(n){var t=n.attr("id"),i=n.attr("data-tooltip")||n.attr("data-selector");return(t&&t.length<1||!t)&&typeof i!="string"&&(i="tooltip"+Math.random().toString(36).substring(7),n.attr("data-selector",i)),t&&t.length>0?t:i},create:function(t){var i=n(this.settings.tipTemplate(this.selector(t),n("<div><\/div>").html(t.attr("title")).html())),r=this.inheritable_classes(t);i.addClass(r).appendTo(this.settings.appendTo),Modernizr.touch&&i.append('<span class="tap-to-close">tap to close <\/span>'),t.removeAttr("title").attr("title",""),this.show(t)},reposition:function(i,r,u){var e,s,o,c,f,h;r.css("visibility","hidden").show(),e=i.data("width"),s=r.children(".nub"),o=this.outerHeight(s),c=this.outerHeight(s),f=function(n,t,i,r,u,f){return n.css({top:t?t:"auto",bottom:r?r:"auto",left:u?u:"auto",right:i?i:"auto",width:f?f:"auto"}).end()},f(r,i.offset().top+this.outerHeight(i)+10,"auto","auto",i.offset().left,e),n(t).width()<767?(f(r,i.offset().top+this.outerHeight(i)+10,"auto","auto",12.5,n(this.scope).width()),r.addClass("tip-override"),f(s,-o,"auto","auto",i.offset().left)):(h=i.offset().left,Foundation.rtl&&(h=i.offset().left+i.offset().width-this.outerWidth(r)),f(r,i.offset().top+this.outerHeight(i)+10,"auto","auto",h,e),r.removeClass("tip-override"),u&&u.indexOf("tip-top")>-1?f(r,i.offset().top-this.outerHeight(r),"auto","auto",h,e).removeClass("tip-override"):u&&u.indexOf("tip-left")>-1?f(r,i.offset().top+this.outerHeight(i)/2-o*2.5,"auto","auto",i.offset().left-this.outerWidth(r)-o,e).removeClass("tip-override"):u&&u.indexOf("tip-right")>-1&&f(r,i.offset().top+this.outerHeight(i)/2-o*2.5,"auto","auto",i.offset().left+this.outerWidth(i)+o,e).removeClass("tip-override")),r.css("visibility","visible").hide()},inheritable_classes:function(t){var r=["tip-top","tip-left","tip-bottom","tip-right","noradius"].concat(this.settings.additionalInheritableClasses),i=t.attr("class"),u=i?n.map(i.split(" "),function(t){if(n.inArray(t,r)!==-1)return t}).join(" "):"";return n.trim(u)},show:function(n){var t=this.getTip(n);this.reposition(n,t,n.attr("class")),t.fadeIn(150)},hide:function(n){var t=this.getTip(n);t.fadeOut(150)},reload:function(){var t=n(this);return t.data("fndtn-tooltips")?t.foundationTooltips("destroy").foundationTooltips("init"):t.foundationTooltips("init")},off:function(){n(this.scope).off(".fndtn.tooltip"),n(this.settings.tooltipClass).each(function(t){n("[data-tooltip]").get(t).attr("title",n(this).text())}).remove()}}})(Foundation.zj,this,this.document);
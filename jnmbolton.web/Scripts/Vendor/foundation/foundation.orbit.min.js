(function(n,t,i,r){"use strict";Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"4.1.0",settings:{timer_speed:1e4,animation_speed:500,bullets:!0,stack_on_small:!0,navigation_arrows:!0,slide_number:!0,container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning"},init:function(t,i){var r=this;Foundation.inherit(r,"data_options"),typeof i=="object"&&n.extend(!0,r.settings,i),n("[data-orbit]",t).each(function(t,i){var u=n.extend(!0,{},r);u._init(t,i)})},_container_html:function(){var n=this;return'<div class="'+n.settings.container_class+'"><\/div>'},_bullets_container_html:function(t){var i=this,r=n('<ol class="'+i.settings.bullets_container_class+'"><\/ol>');return t.each(function(t){var u=n('<li data-orbit-slide-number="'+(t+1)+'" class=""><\/li>');t===0&&u.addClass(i.settings.bullets_active_class),r.append(u)}),r},_slide_number_html:function(t,i){var u=this,r=n('<div class="'+u.settings.slide_number_class+'"><\/div>');return r.append("<span>"+t+"<\/span> of <span>"+i+"<\/span>"),r},_timer_html:function(){var n=this;return typeof n.settings.timer_speed=="number"&&n.settings.timer_speed>0?'<div class="'+n.settings.timer_container_class+'"><span><\/span><div class="'+n.settings.timer_progress_class+'"><\/div><\/div>':""},_next_html:function(){var n=this;return'<a href="#" class="'+n.settings.next_class+'">Next <span><\/span><\/a>'},_prev_html:function(){var n=this;return'<a href="#" class="'+n.settings.prev_class+'">Prev <span><\/span><\/a>'},_init:function(t,i){var r=this,u=n(i),f=u.wrap(r._container_html()).parent(),e=u.children();n.extend(!0,r.settings,r.data_options(u)),r.settings.navigation_arrows&&(f.append(r._prev_html()),f.append(r._next_html())),u.addClass(r.settings.slides_container_class),r.settings.stack_on_small&&f.addClass(r.settings.stack_on_small_class),r.settings.slide_number&&f.append(r._slide_number_html(1,e.length)),f.append(r._timer_html()),r.settings.bullets&&f.after(r._bullets_container_html(e)),u.append(e.first().clone().attr("data-orbit-slide","")),u.prepend(e.last().clone().attr("data-orbit-slide","")),u.css("marginLeft","-100%"),e.first().addClass(r.settings.active_slide_class),r._init_events(u),r._init_dimensions(u),r._start_timer(u)},_init_events:function(u){var f=this,e=u.parent();n(t).on("load.fndtn.orbit",function(){u.height(""),u.height(u.height(e.height())),u.trigger("orbit:ready")}).on("resize.fndtn.orbit",function(){u.height(""),u.height(u.height(e.height()))});n(i).on("click.fndtn.orbit","[data-orbit-link]",function(t){t.preventDefault();var r=n(t.currentTarget).attr("data-orbit-link"),i=u.find("[data-orbit-slide="+r+"]").first();i.length===1&&(f._reset_timer(u,!0),f._goto(u,i.index(),function(){}))});e.siblings("."+f.settings.bullets_container_class).on("click.fndtn.orbit","[data-orbit-slide-number]",function(t){t.preventDefault(),f._reset_timer(u,!0),f._goto(u,n(t.currentTarget).data("orbit-slide-number"),function(){})});e.on("orbit:after-slide-change.fndtn.orbit",function(n,t){var i=e.find("."+f.settings.slide_number_class);i.length===1&&i.replaceWith(f._slide_number_html(t.slide_number,t.total_slides))}).on("orbit:next-slide.fndtn.orbit click.fndtn.orbit","."+f.settings.next_class,function(n){n.preventDefault(),f._reset_timer(u,!0),f._goto(u,"next",function(){})}).on("orbit:prev-slide.fndtn.orbit click.fndtn.orbit","."+f.settings.prev_class,function(n){n.preventDefault(),f._reset_timer(u,!0),f._goto(u,"prev",function(){})}).on("orbit:toggle-play-pause.fndtn.orbit click.fndtn.orbit touchstart.fndtn.orbit","."+f.settings.timer_container_class,function(t){t.preventDefault();var i=n(t.currentTarget).toggleClass(f.settings.timer_paused_class),r=i.closest("."+f.settings.container_class).find("."+f.settings.slides_container_class);i.hasClass(f.settings.timer_paused_class)?f._stop_timer(r):f._start_timer(r)}).on("touchstart.fndtn.orbit",function(n){n.touches||(n=n.originalEvent);var t={start_page_x:n.touches[0].pageX,start_page_y:n.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:r};e.data("swipe-transition",t),n.stopPropagation()}).on("touchmove.fndtn.orbit",function(n){var t,i;(n.touches||(n=n.originalEvent),n.touches.length>1||n.scale&&n.scale!==1)||(t=e.data("swipe-transition"),typeof t=="undefined"&&(t={}),t.delta_x=n.touches[0].pageX-t.start_page_x,typeof t.is_scrolling=="undefined"&&(t.is_scrolling=!!(t.is_scrolling||Math.abs(t.delta_x)<Math.abs(n.touches[0].pageY-t.start_page_y))),t.is_scrolling||t.active||(n.preventDefault(),f._stop_timer(u),i=t.delta_x<0?"next":"prev",t.active=!0,f._goto(u,i,function(){})))}).on("touchend.fndtn.orbit",function(n){e.data("swipe-transition",{}),n.stopPropagation()})},_init_dimensions:function(n){var i=n.parent(),t=n.children();n.css("width",t.length*100+"%"),t.css("width",100/t.length+"%"),n.height(i.height()),n.css("width",t.length*100+"%")},_start_timer:function(n){var t=this,u=n.parent(),f=function(){t._reset_timer(n,!1),t._goto(n,"next",function(){t._start_timer(n)})},i=u.find("."+t.settings.timer_container_class),r=i.find("."+t.settings.timer_progress_class),e=r.width()/i.width(),o=t.settings.timer_speed-e*t.settings.timer_speed;r.animate({width:"100%"},o,"linear",f),n.trigger("orbit:timer-started")},_stop_timer:function(n){var t=this,r=n.parent(),i=r.find("."+t.settings.timer_container_class),u=i.find("."+t.settings.timer_progress_class),f=u.width()/i.width();t._rebuild_timer(r,f*100+"%"),n.trigger("orbit:timer-stopped"),i=r.find("."+t.settings.timer_container_class),i.addClass(t.settings.timer_paused_class)},_reset_timer:function(n,t){var i=this,r=n.parent(),u;i._rebuild_timer(r,"0%"),typeof t=="boolean"&&t&&(u=r.find("."+i.settings.timer_container_class),u.addClass(i.settings.timer_paused_class))},_rebuild_timer:function(t,i){var r=this,f=t.find("."+r.settings.timer_container_class),e=n(r._timer_html()),o=e.find("."+r.settings.timer_progress_class),u;typeof Zepto=="function"?(f.remove(),t.append(e),o.css("width",i)):typeof jQuery=="function"&&(u=f.find("."+r.settings.timer_progress_class),u.css("width",i),u.stop())},_goto:function(t,i,r){var f=this,o=t.parent(),e=t.children(),a=t.find("."+f.settings.active_slide_class),u=a.index(),s=Foundation.rtl?"marginRight":"marginLeft",h,c,l;if(o.hasClass(f.settings.orbit_transition_class))return!1;i==="prev"?u===0?u=e.length-1:u--:i==="next"?u=(u+1)%e.length:typeof i=="number"&&(u=i%e.length),u===e.length-1&&i==="next"?(t.css(s,"0%"),u=1):u===0&&i==="prev"&&(t.css(s,"-"+(e.length-1)*100+"%"),u=e.length-2),o.addClass(f.settings.orbit_transition_class),a.removeClass(f.settings.active_slide_class),n(e[u]).addClass(f.settings.active_slide_class),h=o.siblings("."+f.settings.bullets_container_class),h.length===1&&(h.children().removeClass(f.settings.bullets_active_class),n(h.children()[u-1]).addClass(f.settings.bullets_active_class)),c="-"+u*100+"%",t.trigger("orbit:before-slide-change"),t.css(s)===c?(o.removeClass(f.settings.orbit_transition_class),t.trigger("orbit:after-slide-change",[{slide_number:u,total_slides:t.children().length-2}]),r()):(l={},l[s]=c,t.animate(l,f.settings.animation_speed,"linear",function(){o.removeClass(f.settings.orbit_transition_class),t.trigger("orbit:after-slide-change",[{slide_number:u,total_slides:t.children().length-2}]),r()}))}}})(Foundation.zj,this,this.document);
(function(n,t){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"4.1.3",settings:{activeClass:"open",opened:function(){},closed:function(){}},init:function(t,i,r){return this.scope=t||this.scope,Foundation.inherit(this,"throttle scrollLeft"),typeof i=="object"&&n.extend(!0,this.settings,i),typeof i!="string"?(this.settings.init||this.events(),this.settings.init):this[i].call(this,r)},events:function(){var i=this;n(this.scope).on("click.fndtn.dropdown","[data-dropdown]",function(t){t.preventDefault(),i.toggle(n(this))}).on("opened.fndtn.dropdown","[data-dropdown-content]",this.settings.opened).on("closed.fndtn.dropdown","[data-dropdown-content]",this.settings.closed);n("body").on("click.fndtn.dropdown",function(t){var r=n(t.target).closest("[data-dropdown-content]");if(!n(t.target).data("dropdown")){if(r.length>0&&(n(t.target).is("[data-dropdown-content]")||n.contains(r.first()[0],t.target))){t.stopPropagation();return}i.close.call(i,n("[data-dropdown-content]"))}});n(t).on("resize.fndtn.dropdown",i.throttle(function(){i.resize.call(i)},50)).trigger("resize"),this.settings.init=!0},close:function(t){var i=this;t.each(function(){n(this).hasClass(i.settings.activeClass)&&(n(this).css(Foundation.rtl?"right":"left","-99999px").removeClass(i.settings.activeClass),n(this).trigger("closed"))})},open:function(n,t){this.css(n.addClass(this.settings.activeClass),t),n.trigger("opened")},toggle:function(t){var i=n("#"+t.data("dropdown"));this.close.call(this,n("[data-dropdown-content]").not(i)),i.hasClass(this.settings.activeClass)?this.close.call(this,i):this.open.call(this,i,t)},resize:function(){var t=n("[data-dropdown-content].open"),i=n("[data-dropdown='"+t.attr("id")+"']");t.length&&i.length&&this.css(t,i)},css:function(i,r){var u,f;return/body/i.test(i.offsetParent()[0].nodeName)?(u=r.offset(),u.top-=i.offsetParent().offset().top,u.left-=i.offsetParent().offset().left):u=r.position(),this.small()?i.css({position:"absolute",width:"95%",left:"2.5%","max-width":"none",top:u.top+this.outerHeight(r)}):(!Foundation.rtl&&n(t).width()>this.outerWidth(i)+r.offset().left?f=u.left:(i.hasClass("right")||i.addClass("right"),f=u.left-(this.outerWidth(i)-this.outerWidth(r))),i.attr("style","").css({position:"absolute",top:u.top+this.outerHeight(r),left:f})),i},small:function(){return n(t).width()<768||n("html").hasClass("lt-ie9")},off:function(){n(this.scope).off(".fndtn.dropdown"),n("html, body").off(".fndtn.dropdown"),n(t).off(".fndtn.dropdown"),n("[data-dropdown-content]").off(".fndtn.dropdown"),this.settings.init=!1}}})(Foundation.zj,this,this.document);